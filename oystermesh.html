<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Oyster | Bandwidth Bound Consensus</title>
    <meta name="description" content="Oyster provides decentralized access to immutable data and currency.">
    <script src="oystermesh.js?278"></script>
    <script src="oysterdepend.js?10"></script>
    <script src="oy_dapper/oystertalk.js?30"></script>
    <script src="oy_resources/d3.v3.min.js"></script>
    <script src="oy_resources/blockies.js"></script>
    <script src="oy_resources/linkify.min.js"></script>
    <script src="oy_resources/linkify-string.min.js"></script>
    <base target="_blank">
    <style type="text/css">
        @font-face {
            font-family: 'geo_med';
            src: url('oy_resources/geo_med.ttf') format('truetype');
        }

        @font-face {
            font-family: 'geo_light';
            src: url('oy_resources/geo_light.ttf') format('truetype');
        }

        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: geo_light, Fallback, sans-serif;
            color: #d7d7d7;
            background-image: radial-gradient(circle, #ababab, #727272, #404040);
        }

        rect {
            fill: none;
            pointer-events: all;
        }

        .node {
            fill: #348fab;
        }

        .link {
            stroke: #3a5aae;
        }

        @-webkit-keyframes fade_in {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes fade_in {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes bounce {
            0% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(2vh);
            }
        }

        @keyframes expand {
            0% {
                transform: scale(0.9);
            }
            100% {
                transform: scale(1.1);
            }
        }

        @keyframes flash {
            0% { opacity: 1; }
            50% { opacity: .25; }
            100% { opacity: 1; }
        }

        @keyframes flash_green {
            0% { background-color: rgba(36, 171, 38, 0.9); }
            50% { background-color: rgba(36, 171, 38, 0.2); }
            100% { background-color: rgba(36, 171, 38, 0.9); }
        }

        @keyframes flash_blue {
            0% { background-color: rgba(20, 162, 204, 0.9); }
            50% { background-color: rgba(20, 162, 204, 0.2); }
            100% { background-color: rgba(20, 162, 204, 0.9); }
        }

        @keyframes flash_purple {
            0% { background-color: rgba(138, 55, 137, 0.9); }
            50% { background-color: rgba(138, 55, 137, 0.2); }
            100% { background-color: rgba(138, 55, 137, 0.9); }
        }

        .oy_button_execute_active {
            background-color: #14a2cc;
            border:0.1vh solid #14a2cc;
            color: #f3f3f3;
        }

        .oy_button_execute_active:hover {
            cursor: pointer;
        }

        .oy_button_halt_active {
            background-color: #c37b2c;
            border:0.1vh solid #c37b2c;
            color: #f3f3f3;
        }

        .oy_button_halt_active:hover {
            cursor: pointer;
        }

        .oy_button_reset_active {
            background-color: #525252;
            border:0.1vh solid #525252;
            color: #f3f3f3;
        }

        .oy_button_reset_active:hover {
            cursor: pointer;
        }

        .oy_button_view_close {
            background-color: #14a2cc;
            border:0.1vh solid #14a2cc;
            color: #f3f3f3;
        }

        .oy_button_view_close:hover {
            cursor: pointer;
        }

        .oy_button_view_download {
            background-color: #2f2f2f;
            border:0.1vh solid #2f2f2f;
            color: #f3f3f3;
        }

        .oy_button_go_active {
            background-color: #24ab26;
            border:0.1vh solid #24ab26;
            color: #f3f3f3;
        }

        .oy_button_go_active:hover {
            cursor: pointer;
        }

        .oy_button_broadcast_active {
            background-color: #51acb7;
            border:0.1vh solid #51acb7;
            color: #f3f3f3;
        }

        .oy_button_broadcast_active:hover {
            cursor: pointer;
        }

        .oy_button_alt_active {
            background-color: #8a3789;
            border:0.1vh solid #8a3789;
            color: #f3f3f3;
        }

        .oy_button_alt_active:hover {
            cursor: pointer;
        }

        .oy_button_view_download:hover {
            cursor: pointer;
        }

        .oy_button_all_active {
            background-color: #696969;
            border:0.1vh solid #696969;
            color: #111111;
        }

        .oy_button_all_active:hover {
            cursor: pointer;
        }

        .oy_button_all_dull {
            background-color: #7A7A7A;
            border:0.1vh solid #7A7A7A;
            color: #4a4a4a;
        }

        .oy_button_all_dull:hover {
            cursor: not-allowed;
        }

        .oy_slide {
            position: relative;
            top: 0;
            width: 100%;
            height: 85%;
            overflow: hidden;
        }

        a {
            color:black;
        }

        .oy_fade {
            opacity: 0;
            animation: fade_in ease-in 1;
            animation-fill-mode: forwards;
        }

        .oy_fade.one {
            animation-duration: 0.4s;
        }

        .oy_fade.two {
            animation-delay: 0.1s;
            animation-duration: 0.25s;
        }
        @media screen and (orientation: landscape) {
            .oy_shell_img {
                position: relative;
                width: auto;
                height: auto;
                max-height: 20vh;
                max-width: 28vh;
                top: 0;
                left: 0;
                animation: bounce 11s ease-in-out infinite;
                animation-delay: 0.1s;
                z-index: 100;
            }

            .oy_shell_cont_img {
                position: absolute;
                top: 2.4vh;
                left: 50%;
                height: 27vh;
                transform: translateX(-50%);
            }

            .oy_shadow {
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 6.5vh;
                animation: expand 5.5s ease-in-out infinite;
                animation-direction: alternate;
                animation-delay: 0.1s;
            }

            .oy_holder {
                position:absolute;
                left:50%;
                transform:translateX(-50%);
                top:30.5vh;
                width: 123vh;
                height: 65vh;
                z-index: 1000;
            }

            .oy_tab {
                border-radius: 0.5vh;
                padding: 0.5vh 1vh;
                font-size:1.7vh;
                font-family: geo_med, Fallback, sans-serif;
            }

            .oy_tab:hover {
                cursor: pointer;
            }

            .oy_description {
                position:absolute;
                top:0;
                left:0;
                transform: translateY(-100%);
                font-size:1.5vh;
            }

            .oy_description_handle {
                position:absolute;
                top:0;
                left:0;
                transform: translateY(-100%);
                font-size:1.8vh;
            }

            .oy_superhandle {
                position:absolute;
                top:18%;
                left:5%;
                width:90%;
                height:20%;
                border:0.1vh dashed #727272;
            }

            .oy_superhandle_sub {
                font-size:0.95vh;
                font-family: 'Courier New', sans-serif;
            }

            .oy_superhandle_sub:hover {
                cursor: pointer;
            }

            .oy_box {
                position:absolute;
                bottom:11%;
                left:41%;
                width:32.5%;
                height:30%;
                border:0.1vh dashed #727272;
                font-size:1vh;
            }

            .oy_mesh_glue {
                position:absolute;
                bottom:11%;
                left:23.5%;
                width:14%;
                height:30%;
                border:0.1vh dashed #727272;
                font-size:1vh;
            }

            .oy_mesh_glue_sub {
                position:absolute;
                top:50%;
                left:50%;
                transform: translate(-37%, -50%);
                width:90%;
                font-family: "Courier New", Fallback, sans-serif;
                font-size:1.5vh;
            }

            .oy_button {
                border-radius: 0.5vh;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-family: geo_med, Fallback, sans-serif;
                font-size:1.5vh;
            }

            .oy_border {
                border-radius: 0.3vh;
            }

            .oy_border.oy_graph {
                border:0.2vh solid #404040;
            }

            .oy_border.oy_interface_main {
                border:0.2vh solid #404040;
            }

            .oy_peer {
                position:absolute;
                left:5%;
                width:90%;
                height:12%;
                border:0.1vh dashed #727272;
                color:#000000;
                font-weight:bold;
                font-size:1.2vh;
            }

            .oy_peer_sub {
                position:absolute;
                left:0;
                top:0;
                width:100%;
                height:100%;
            }

            .oy_peer_beam {
                position:absolute;
                left:0;
                top:0;
                width:100%;
                height:100%;
                background-color: #626262;
            }

            .oy_peer_soak {
                position:absolute;
                left:0;
                top:0;
                width:100%;
                height:100%;
                background-color: #7A7A7A;
            }

            .oy_stats {
                font-size:1.6vh;
            }

            .oy_data_stats {
                position:absolute;
                top:17%;
                width:50%;
                height:100%;
                font-size:1.3vh;
            }

            .oy_wallet_gen_pass_before {
                width:9vh;
                border:0.4vh solid #8a3789;
            }

            .oy_wallet_gen_pass_after {
                width:9vh;
                border:0.4vh solid #128a19;
            }

            .oy_wallet_gen_pass_complete {
                width:9vh;
                border:0.4vh solid #454545;
            }

            .oy_wallet_upload_pass_before {
                width:9vh;
                border:0.4vh solid #14a2cc;
            }

            .oy_wallet_upload_pass_complete {
                width:9vh;
                border:0.4vh solid #454545;
            }

            #oy_console {
                width:96%;
                height:99%;
                overflow: scroll;
                font-family:'Courier New', sans-serif;
                font-size: 1vh;
            }

            .oy_tooltip {
                position: absolute;
            }

            .oy_tooltip .oy_tooltip_text {
                position: absolute;
                width: 12vh;
                background-color: #555;
                color: #fff;
                text-align: center;
                border-radius: 0.6vh;
                padding: 0.6vh;
                z-index: 1;
                bottom: 150%;
                left: 50%;
                margin-left: -5.5vh;
                opacity: 0;
            }

            .oy_tooltip .oy_tooltip_text::after {
                content: "";
                position: absolute;
                top: 100%;
                left: 50%;
                margin-left: -0.6vh;
                border-width: 0.6vh;
                border-style: solid;
                border-color: #555 transparent transparent transparent;
            }

            .oy_tooltip:hover .oy_tooltip_text {
                opacity: 1;
            }

            .oy_tooltip_warn {
                position: absolute;
            }

            .oy_tooltip_warn .oy_tooltip_text_warn {
                position: absolute;
                width: 13vh;
                background-color: #c37b2c;
                color: #151515;
                text-align: center;
                border-radius: 0.6vh;
                padding: 0.6vh;
                z-index: 1;
                bottom: 150%;
                left: 50%;
                margin-left: -5.5vh;
                opacity: 0;
            }

            .oy_tooltip_warn .oy_tooltip_text_warn::after {
                content: "";
                position: absolute;
                top: 100%;
                left: 50%;
                margin-left: -0.6vh;
                border-width: 0.6vh;
                border-style: solid;
                border-color: #c37b2c transparent transparent transparent;
            }

            .oy_signature {
                position:absolute;
                left:0;
                bottom:0;
                width:100%;
                height:3%;
                color:#000;
                font-size: 1.2vh;
            }

            .oy_signature_img {
                position: relative;
                width: auto;
                height: auto;
                max-height: 1.6vh;
                max-width: 1.6vh;
                transform:translateY(25%);
            }

            .oy_key {
                font-size:1.4vh;
            }

            #oy_key_interface_cont {
                width:35vh;
                height:27vh;
                font-size:1.7vh;
            }

            #oy_github_ribbon a:hover {
                background: #14a2cc;
                color: #fff;
            }

            #oy_github_ribbon a::before, #github_ribbon a::after {
                content: "";
                width: 100%;
                display: block;
                position: absolute;
                top: 0.1vh;
                left: 0;
                height: 0.1vh;
                background: #0f0f0f;
            }

            #oy_github_ribbon a::after {
                bottom: 0.1vh;
                top: auto;
            }

            #oy_github_ribbon {
                position: absolute;
                display: block;
                top: 0;
                right: 0;
                width: 20vw;
                overflow: hidden;
                height: 20vh;
                z-index: 900;
            }

            #oy_github_ribbon a {
                background: #000;
                color: #f7f7f7;
                text-decoration: none;
                font-family: arial, sans-serif;
                text-align: center;
                font-weight: bold;
                padding: 0.5vh 4vh;
                font-size: 1.5vh;
                line-height: 3vh;
                transition: 0.5s;
                width: 20vh;
                position: absolute;
                top: 6vh;
                right: -6vh;
                transform: rotate(45deg);
            }
        }
        @media screen and (orientation: portrait) {
            .oy_shell_img {
                position: relative;
                width: auto;
                height: auto;
                max-height: 20vw;
                max-width: 28vw;
                top: 0;
                left: 0;
                animation: bounce 11s ease-in-out infinite;
                animation-delay: 0.1s;
                z-index: 100;
            }

            .oy_shell_cont_img {
                position: absolute;
                top: 6vh;
                left: 50%;
                height: 27vw;
                transform: translateX(-50%);
            }

            .oy_shadow {
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 6.5vw;
                animation: expand 5.5s ease-in-out infinite;
                animation-direction: alternate;
                animation-delay: 0.1s;
            }

            .oy_holder {
                position:absolute;
                left:50%;
                transform:translateX(-50%);
                top:35vw;
                width: 95vw;
                height: 80vw;
                z-index: 1000;
            }

            .oy_tab {
                border-radius: 0.5vw;
                padding: 0.5vw 1vw;
                font-size:1.7vw;
                font-family: geo_med, Fallback, sans-serif;
            }

            .oy_tab:hover {
                cursor: pointer;
            }

            .oy_description {
                position:absolute;
                top:0;
                left:0;
                transform: translateY(-100%);
                font-size:1.5vw;
            }

            .oy_description_handle {
                position:absolute;
                top:0;
                left:0;
                transform: translateY(-100%);
                font-size:1.8vw;
            }

            .oy_superhandle {
                position:absolute;
                top:18%;
                left:5%;
                width:90%;
                height:20%;
                border:0.1vw dashed #727272;
            }

            .oy_superhandle_sub {
                font-size:0.95vw;
                font-family: 'Courier New', sans-serif;
            }

            .oy_superhandle_sub:hover {
                cursor: pointer;
            }

            .oy_box {
                position:absolute;
                bottom:14%;
                left:41%;
                width:32.5%;
                height:30%;
                border:0.1vw dashed #727272;
                font-size:1vw;
            }

            .oy_mesh_glue {
                position:absolute;
                bottom:14%;
                left:23.5%;
                width:14%;
                height:30%;
                border:0.1vw dashed #727272;
                font-size:1vw;
            }

            .oy_mesh_glue_sub {
                position:absolute;
                top:50%;
                left:50%;
                transform: translate(-37%, -50%);
                width:90%;
                font-family: "Courier New", Fallback, sans-serif;
                font-size:1.5vw;
            }

            .oy_button {
                border-radius: 0.5vw;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-family: geo_med, Fallback, sans-serif;
                font-size:1.5vw;
            }

            .oy_border {
                border-radius: 0.3vw;
            }

            .oy_border.oy_graph {
                border:0.2vw solid #404040;
            }

            .oy_border.oy_interface_main {
                border:0.2vw solid #404040;
            }

            .oy_peer {
                position:absolute;
                left:5%;
                width:90%;
                height:12%;
                border:0.1vw dashed #727272;
                color:#000000;
                font-weight:bold;
                font-size:1.2vw;
            }

            .oy_peer_sub {
                position:absolute;
                left:0;
                top:0;
                width:100%;
                height:100%;
            }

            .oy_peer_beam {
                position:absolute;
                left:0;
                top:0;
                width:100%;
                height:100%;
                background-color: #626262;
            }

            .oy_peer_soak {
                position:absolute;
                left:0;
                top:0;
                width:100%;
                height:100%;
                background-color: #7A7A7A;
            }

            .oy_stats {
                font-size:1.6vw;
            }

            .oy_data_stats {
                position:absolute;
                top:17%;
                width:50%;
                height:100%;
                font-size:1.3vw;
            }

            #oy_console {
                width:96%;
                height:99%;
                overflow: scroll;
                font-family:'Courier New', sans-serif;
                font-size: 1vw;
            }

            .oy_tooltip {
                position: absolute;
            }

            .oy_tooltip .oy_tooltip_text {
                position: absolute;
                width: 12vw;
                background-color: #555;
                color: #fff;
                text-align: center;
                border-radius: 0.6vw;
                padding: 0.6vw;
                z-index: 1;
                bottom: 150%;
                left: 50%;
                margin-left: -5.5vw;
                opacity: 0;
            }

            .oy_tooltip .oy_tooltip_text::after {
                content: "";
                position: absolute;
                top: 100%;
                left: 50%;
                margin-left: -0.6vw;
                border-width: 0.6vw;
                border-style: solid;
                border-color: #555 transparent transparent transparent;
            }

            .oy_tooltip:hover .oy_tooltip_text {
                opacity: 1;
            }

            .oy_tooltip_warn {
                position: absolute;
            }

            .oy_tooltip_warn .oy_tooltip_text_warn {
                position: absolute;
                width: 13vw;
                background-color: #c37b2c;
                color: #151515;
                text-align: center;
                border-radius: 0.6vw;
                padding: 0.6vw;
                z-index: 1;
                bottom: 150%;
                left: 50%;
                margin-left: -5.5vw;
                opacity: 0;
            }

            .oy_tooltip_warn .oy_tooltip_text_warn::after {
                content: "";
                position: absolute;
                top: 100%;
                left: 50%;
                margin-left: -0.6vw;
                border-width: 0.6vw;
                border-style: solid;
                border-color: #c37b2c transparent transparent transparent;
            }

            .oy_signature {
                position:absolute;
                left:0;
                bottom:0;
                width:100%;
                height:5%;
                color:#000;
                font-size: 1.2vw;
            }

            .oy_signature_img {
                position: relative;
                width: auto;
                height: auto;
                max-height: 1.6vw;
                max-width: 1.6vw;
                transform:translateY(25%);
            }

            #oy_key_interface_cont {
                width:35vw;
                height:27vw;
                font-size:1.7vw;
            }

            #oy_github_ribbon a:hover {
                background: #14a2cc;
                color: #fff;
            }

            #oy_github_ribbon a::before, #github_ribbon a::after {
                content: "";
                width: 100%;
                display: block;
                position: absolute;
                top: 0.1vw;
                left: 0;
                height: 0.1vw;
                background: #0f0f0f;
            }

            #oy_github_ribbon a::after {
                bottom: 0.1vw;
                top: auto;
            }

            #oy_github_ribbon {
                position: absolute;
                display: block;
                top: 0;
                right: 0;
                width: 20vh;
                overflow: hidden;
                height: 20vh;
                z-index: 900;
            }

            #oy_github_ribbon a {
                background: #000;
                color: #f7f7f7;
                text-decoration: none;
                font-family: arial, sans-serif;
                text-align: center;
                font-weight: bold;
                padding: 0.5vh 4vh;
                font-size: 1.5vw;
                line-height: 3vw;
                transition: 0.5s;
                width: 20vw;
                position: absolute;
                top: 6vw;
                right: -6vw;
                transform: rotate(45deg);
            }
        }
        .oy_center_hor {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .oy_center_both {
            position: absolute;
            top:50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>
<span id="oy_github_ribbon" class="oy_fade two"><a href="https://github.com/brunoblock/oystermesh" target="_blank">GITHUB REPO</a></span>
<div id="front" class="oy_slide" style="height:100%">
    <div id="oy_cover" style="position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0f0f0f;opacity:0.85;z-index:2000;display:none"></div>
    <div id="oy_dapper" style="position:absolute;top:50%;left:50%;transform: translate(-50%, -50%);background-color: #000000;border:0.2vh solid #141414;border-radius:0.4vh;width:90vh;height:96%;opacity:1;z-index: 4000;display: none">
        <div id="oy_dapper_control" style="position:absolute;top:0;left:0;width:100%;height:3vh;background-color: #606060;border-top-left-radius: 0.5vh;border-top-right-radius: 0.5vh;">
            <div id="ot_title" style="position:relative;top:0.2vh;left:1vh;font-size:1.8vh;font-family: geo_med, sans-serif">Oyster&nbsp;Talk</div>
            <div id="ot_channel_stats" align="center" class="oy_center_both" style="width:50%;font-size:1.5vh;color:#dadada;display:none;"></div>
            <div id="ot_peers_null" align="center" class="oy_center_both" style="width:12vh;height:80%;background-color: #c37b2c;color:#dadada;border-radius:0.15vh;font-size:2vh;font-family: geo_med, sans-serif;display:none;">
                <div class="oy_center_both">NO&nbsp;PEERS</div>
            </div>
            <div id="ot_rebuild_progress" align="center" class="oy_center_both" style="width:12vh;height:80%;background-color: #3094f4;border-radius:0.15vh;font-size:1.7vh;font-family: geo_med, sans-serif;display:none;">
                <div id="ot_rebuild_progress_inner" style="position:absolute;top:50%;transform:translateY(-50%);right:5%;width:90%;height:70%;background-color:#606060;display: block"></div>
                <div class="oy_center_both" style="width:90%;height:70%;color:#3094f4;font-size:1.3vh;">REBUILDING</div>
            </div>
            <div id="ot_toggle_cont" style="position:absolute;width:12%;height:100%;top:0;right:9%;">
                <div id="ot_toggle" align="center" class="oy_center_both oy_button oy_button_reset_active" style="width:auto;height:auto;" onclick="oy_dapper_toggle()">
                    <div id="ot_toggle_inner" style="position:relative;top:-3%;">
                        &nbsp;&nbsp;MINIMIZE&nbsp;&nbsp;
                    </div>
                </div><br>
            </div>
            <div id="ot_close_cont" style="position:absolute;width:12%;height:100%;top:0;right:0;">
                <div id="ot_close" align="center" class="oy_center_both oy_button oy_button_alt_active" style="width:auto;height:auto;" onclick="ot_close();oy_dapper_close()">
                    <div style="position:relative;top:-3%;">
                        &nbsp;&nbsp;CLOSE&nbsp;&nbsp;
                    </div>
                </div><br>
            </div>
        </div>
        <div id="oy_dapper_content">
            <div id="ot_render_cont" style="position:absolute;top:3vh;left:0;width:100%;height:calc(100% - 11vh);background-color: #fdfdfd;overflow:scroll" onscroll="ot_scroll()">
                <div id="ot_render" style="position:absolute;top:0;left:calc(9.5% - 2vh);width:70%;height:100%;font-size:1.7vh;">
                    <br>
                    <div style='position:relative;'><div style='position:absolute;left:0;top:0;width:4vh;height:4vh;background-color: #414141'></div><div style='position:relative;top:0;left:calc(4vh + 1.5%);padding:0.5vh 1vh;border-radius:0.15vh;background-color: #414141;color:#9b9b9b;min-height:3vh;display: inline-flex;align-items: center;'><div>Discussion Top</div><div style='position:absolute;right:0;top:50%;transform: translate(calc(100% + 0.8vh), -50%);font-size:0.9vh;color: #dbdbdb'>[null]</div></div></div><br>
                </div>
            </div>
            <div id="ot_scroll_jump" style="position: absolute;bottom:9vh;right:2vh;padding:0.5vh;border:0.15vh solid black;font-size:3.8vh;color:#000;background-color: #eeeeee;z-index:400;display:none;" onmouseover="this.style.cursor = 'pointer'" onclick="ot_scroll_jump()">&#10515;</div>
            <div id="ot_bar_cover" style="position:absolute;bottom:0;width:100%;height:8vh;opacity:0.85;background-color:#000000;border-bottom-left-radius: 0.5vh;border-bottom-right-radius: 0.5vh;z-index: 200;">
                <div id="ot_wallet_load_cont" style="display:block;">
                    <div id="ot_wallet_load" align="center" class="oy_center_both oy_button oy_button_go_active" style="width:auto;height:auto;" onclick="oy_wallet_open()">
                        <div style="position:relative;top:-3%;">
                            &nbsp;&nbsp;LOAD&nbsp;WALLET&nbsp;&nbsp;
                        </div>
                    </div><br>
                </div>
                <div id="ot_approval_cont" style="display:none;">
                    <div id="ot_approval" align="center" class="oy_center_both oy_button oy_button_alt_active" style="width:auto;height:auto;" onclick="ot_join()">
                        <div style="position:relative;top:-3%;">
                            &nbsp;&nbsp;JOIN&nbsp;GROUP&nbsp;&nbsp;
                        </div>
                    </div><br>
                </div>
                <div id="ot_message" align="center" class="oy_center_both" style="width: 90%;"></div>
            </div>
            <div id="ot_bar" style="position:absolute;bottom:0;width:100%;height:8vh;background-color: #606060;border-bottom-left-radius: 0.5vh;border-bottom-right-radius: 0.5vh;z-index: 100;">
                <div id="ot_broadcast_cont" class="oy_center_both" style="top:55%;width:90%;height:90%;">
                    <div id="ot_broadcast_avatar_cont" class="oy_center_both" style="top:3.5vh;left:5%;width:4vh;height:4vh;background-color: #2a2a2a"></div>
                    <div id="ot_broadcast_reply" style="position:absolute;left:50%;bottom:calc(50% + 1.2vh);transform: translate(-54%, -50%);width:calc(75% - 4vh);height:1.9vh;font-size:1.2vh;color:#000000;display:none;"></div>
                    <textarea id="ot_broadcast_input" class="oy_center_both" style="transform: translateX(-54%);top:1.4vh;width:75%;height:3.7vh;font-size:1.6vh;" oninput="ot_input()"></textarea>
                    <div id="ot_broadcast_button_cont" style="position:absolute;width:15%;height:100%;top:0;right:0;display:block;">
                        <div id="ot_broadcast_button" align="center" class="oy_center_both oy_button oy_button_all_dull" style="top:3.4vh;width:auto;height:auto;" onclick="ot_broadcast()">
                            <div id="ot_broadcast_button_inner" style="position:relative;top:-3%;">
                                &nbsp;&nbsp;BROADCAST&nbsp;&nbsp;
                            </div>
                        </div><br>
                    </div>
                    <div id="ot_broadcast_limit" style="position:absolute;width:12.5%;top:6%;right:0;font-size:1.2vh;display:block;"></div>
                </div>
            </div>
            <input type="text" id="ot_copy_key_input" style="position:absolute;bottom:-100vh;left:0;opacity:0" />
        </div>
    </div>
    <div id="oy_key_interface_cont" style="position:absolute;top:50%;left:50%;transform: translate(-50%, -52%);background-color:#121212;padding:1.5%;border:1vh solid #14a2cc;border-radius:1vh;z-index: 5000;display:none">
        <div align="center" style="width:100%">
            <div id="oy_wallet_gen_button" align="center" class="oy_button oy_button_alt_active" style="width:auto;height:auto;" onclick="oy_wallet_gen()">
                <div style="position:relative;top:-3%;">
                    &nbsp;GENERATE&nbsp;
                </div>
            </div>
            &nbsp;or&nbsp;
            <div id="oy_wallet_upload_button" align="center" class="oy_button oy_button_execute_active" style="width:auto;height:auto;" onclick="oy_wallet_upload()">
                <div style="position:relative;top:-3%;">
                    &nbsp;UPLOAD&nbsp;
                </div>
            </div>
            &nbsp;.akoya&nbsp;file&nbsp;<input id="oy_file_pearl" type="file" hidden />
        </div>
        <div id="oy_wallet_gen_pass" align="left" style="position:absolute;top:22%;left:9%;width:76%;height:29%;display:none">
            <div>Passphrase:&nbsp;<input id="oy_wallet_gen_pass_0" type="password" class="oy_wallet_gen_pass_before" oninput="oy_wallet_gen_pass(0)" /></div>
            <div style="transform:translateY(25%)">Type&nbsp;again:&nbsp;<input id="oy_wallet_gen_pass_1" type="password" class="oy_wallet_gen_pass_before" oninput="oy_wallet_gen_pass(1)" disabled="disabled" /></div>
            <div id="oy_wallet_gen_download_button" align="center" class="oy_button oy_button_all_dull" style="position:absolute;top:6%;right:0;width:auto;height:auto;" onclick="oy_wallet_download()">
                <div style="position:relative;top:-3%;">
                    &nbsp;&nbsp;DOWNLOAD&nbsp;<br>
                    &nbsp;SEED&nbsp;KEY&nbsp;
                </div>
            </div>
        </div>
        <div id="oy_wallet_upload_pass" align="left" class="oy_center_hor" style="position:absolute;top:24%;left:60%;width:76%;height:29%;display:none">
            <div>Passphrase:&nbsp;<input id="oy_wallet_upload_pass_0" type="password" class="oy_wallet_upload_pass_before" oninput="oy_wallet_unlock(this.value)" /></div>
        </div>
        <div id="oy_avatar_cont" class="oy_center_hor" style="top:52%;left:21.5%;width:7vh;height:7vh;background-color:#2a2a2a"></div>
        <div id="oy_wallet_change_button" align="center" class="oy_center_hor oy_button oy_button_all_dull" style="top:75%;left:21.5%;width:auto;height:auto;" onclick="oy_wallet_gen_calc()">
            <div style="position:relative;top:-3%;">
                &nbsp;CHANGE&nbsp;
            </div>
        </div>
        <div align="center" class="oy_center_hor" style="top:45%;left:59%;width:52%;height:7vh;">
            Public Key:
            <textarea id="oy_key_public" class="oy_key" style="background-color: #2a2a2a;color:#dfdfdf;width:100%;height:7vh;" readonly="readonly"></textarea>
        </div>
        <div align="center" class="oy_center_hor" style="bottom:4%;">
            <div id="oy_wallet_load" align="center" class="oy_center_hor oy_button oy_button_all_dull" style="transform: translate(-50%, -40%);width:auto;height:auto;" onclick="oy_wallet_load()">
                <div style="position:relative;top:-3%;">
                    &nbsp;&nbsp;LOAD&nbsp;WALLET&nbsp;&nbsp;
                </div>
            </div><br>
            <div id="oy_wallet_cancel" align="center" class="oy_button oy_button_reset_active" style="width:auto;height:auto;" onclick="oy_wallet_close();">
                <div style="position:relative;top:-3%;">
                    &nbsp;CLOSE&nbsp;
                </div>
            </div>
            <div id="oy_wallet_reset" align="center" class="oy_button oy_button_all_dull" style="width:auto;height:auto;" onclick="oy_wallet_reset()">
                <div style="position:relative;top:-3%;">
                    &nbsp;RESET&nbsp;
                </div>
            </div>
        </div>
    </div>
    <div id="oy_file_view_cont" style="position: absolute;top:50%;left:50%;transform: translate(-50%, -52%);width:auto;height:auto;background-color:#121212;padding:1.5%;border-top-left-radius:0.5vh;border-top-right-radius:0.5vh;z-index: 4500;display: none;">
        <div id="oy_file_view_data"></div>
        <div style="position:absolute;left:0;bottom:0;transform:translateY(99%);border-bottom-left-radius:0.5vh;border-bottom-right-radius:0.5vh;width: 100%;min-width:23vh;height:4vh;background-color:#121212;">
            <div id="oy_view_close" align="center" class="oy_button oy_button_view_close" style="position:absolute;bottom:25%;right:2.5vh;width:6.5vh;height:48%;" onclick="oy_file_view_close()">
                <div style="position:relative;top:-3%;">
                    CLOSE
                </div>
            </div>
            <div id="oy_view_download" align="center" class="oy_button oy_button_view_download" style="position:absolute;bottom:25%;right:11vh;width:10vh;height:48%;" onclick="oy_file_download()">
                <div style="position:relative;top:-3%;">
                    DOWNLOAD
                </div>
            </div>
        </div>
    </div>
    <div class="oy_fade one oy_shell_cont_img">
        <img alt="Oyster" class="oy_shell_img" src="oy_resources/oy_logo_shell.png"/>
        <div class="oy_shadow">
            <div style="position:relative;width:100%;height:100%;background: rgba(48, 48, 48, 0.20);border-radius:50%;filter: blur(8px);">
                <div style="position:absolute;left:50%;top:50%;transform: translateX(-50%) translateY(-50%);width:75%;height:50%;background: rgba(70, 70, 70, 0.40);border-radius:50%;z-index:20"></div>
            </div>
        </div>
    </div>
    <div class="oy_holder oy_fade two">
        <input type="text" id="oy_copy_key_input" style="position:absolute;bottom:-100vh;left:0;opacity:0" />
        <div id="oy_graph_akoya" class="oy_center_hor oy_border oy_graph" style="top:0;width:50%;height:10%;background-color:transparent;overflow: hidden;z-index: 500">
            <div id="oy_graph_akoya_progress" style="position:relative;width:100%;height:100%;display:none">
                <div id="oy_graph_akoya_progress_inner" style="width:0;height:100%;"></div>
            </div>
        </div>
        <div id="oy_graph_nonce" class="oy_center_hor oy_border oy_graph" style="top:0;width:50%;height:10%;background-color: #404040;overflow: hidden;z-index: 400"></div>
        <div id="oy_interface_main" class="oy_center_hor" style="top:18%;width:50%;height:25%;">
            <div id="oy_tab_dapper" class="oy_tab oy_left" style="position:fixed;top:-20%;left: 10%;height:20%;background-color: #404040;z-index:-50;" onclick="oy_tab(this.id)">DAPPER</div>
            <div id="oy_tab_wallet" class="oy_tab" style="position:fixed;top:-20%;left: 37%;height:20%;transform: translateX(-50%);background-color: #7A7A7A;color:#232323;z-index:-50;" onclick="oy_tab(this.id)">AKOYA</div>
            <div id="oy_tab_upload" class="oy_tab" style="position:fixed;top:-20%;left:57%;height:20%;transform: translateX(-50%);background-color: #7A7A7A;color:#232323;z-index:-50;" onclick="oy_tab(this.id)">UPLOAD</div>
            <div id="oy_tab_download" class="oy_tab oy_right" style="position:fixed;top:-20%;right: 10%;height:20%;background-color: #7A7A7A;color:#232323;z-index:-50;" onclick="oy_tab(this.id)">DOWNLOAD</div>
            <div id="oy_interface_dapper" class="oy_center_hor oy_border oy_interface_main" style="top:0;width:100%;height:100%;background-color: #404040;z-index:100;display:block">
                <div align="center" class="oy_center_both" style="transform:translate(-60%, -50%)">
                    <span style="font-size:2vh;font-family: geo_med, sans-serif">mURL:</span>&nbsp;&nbsp;<input id="oy_dapper_input" type="text" style="width:20vh;height:3vh;font-size:2vh;" oninput="oy_dapper_input()" />
                    <div id="oy_dapper_launch" align="center" class="oy_button oy_button_all_dull" style="position:absolute;top:50%;right:0;transform:translate(110%, -50%);width:8vh;height:2vh;" onclick="oy_dapper_launch()">
                        <div style="position:relative;">
                            LAUNCH
                        </div>
                    </div>
                </div>
            </div>
            <div id="oy_interface_wallet" class="oy_center_hor oy_border oy_interface_main" style="top:0;width:100%;height:100%;background-color: #404040;z-index:100;display:none">
                <div id="oy_wallet_cont" style="position:absolute;bottom:0;width:100%;height:100%;opacity:0.85;background-color:#000000;border-bottom-left-radius: 0.5vh;border-bottom-right-radius: 0.5vh;z-index: 200;display: block;">
                    <div align="center" class="oy_center_both oy_button oy_button_go_active" style="width:auto;height:auto;" onclick="oy_wallet_open()">
                        <div style="position:relative;top:-3%;">
                            &nbsp;&nbsp;LOAD&nbsp;WALLET&nbsp;&nbsp;
                        </div>
                    </div><br>
                </div>
                <div align="center" style="position:absolute;top:8%;left:3%;width:50%;height:30%;background-color: #7A7A7A;border-radius: 0.2vh;color:#000;font-size:2.4vh;">
                    <div id="oy_wallet_avatar_cont" class="oy_center_both" style="left:9%;width:4vh;height:4vh;background-color: #2a2a2a;z-index: 200;" onmouseover="this.style.cursor = 'pointer'" onclick="oy_copy_key(0, null)"></div>
                    <div style="position:absolute;width:90%;height:100%;right:0;z-index: 100;">
                        <div class="oy_center_both" style="width:100%;"><span id="oy_akoya_balance_inner">------</span>&nbsp;<span style="color: #3b3b3b">AKYT</span></div>
                    </div>
                </div>
                <div id="oy_akoya_keep" align="left" style="position:absolute;top:8%;right:3%;width:38%;height:80%;font-size:1.3vh;padding-top:0.5vh;padding-left:1vh;background-color: #7A7A7A;border-radius: 0.2vh;color:#000;overflow:scroll">
                    <div id="oy_akoya_keep_void" style="font-size:1.5vh;color:#3b3b3b">No&nbsp;Transaction&nbsp;History</div>
                    <div id="oy_akoya_keep_inner" style="position: absolute;top:0.5vh;left:1vh;width:calc(100% - 1vh);height:calc(100% - 0.5vh);"></div>
                </div>
                <div style="position:absolute;bottom:5%;left:3%;width:50%;height:48%;border-radius: 0.2vh;">
                    <div id="oy_send_avatar_cont" style="position:absolute;left:0.8vh;top:0.5vh;width:2.5vh;height:2.5vh;background-color: #2a2a2a"></div>
                    <div id="oy_amount_avatar_cont" style="position:absolute;left:0.8vh;top:3.5vh;width:2.5vh;height:2.5vh;background-color: #2a2a2a"></div>
                    <input id="oy_wallet_akoya_send" type="text" style="position:absolute;top:0.5vh;left:3.3vh;text-align:center;width:38%;height:2vh;font-size:1.2vh;color:#7a7a7a;" onclick="oy_akoya_reset_send_click()" oninput="oy_akoya_reset_send_change(this.value)" onchange="oy_akoya_reset_send_change(this.value)" onblur="oy_akoya_reset_send_blur(this.value)" value="Receiving Address" />
                    <input id="oy_wallet_akoya_amount" type="text" style="position:absolute;top:3.5vh;left:3.3vh;text-align:center;width:38%;height:2vh;font-size:1.2vh;color:#7a7a7a;" onclick="oy_akoya_reset_amount_click()" oninput="oy_akoya_reset_amount_change(this.value)" onchange="oy_akoya_reset_amount_change(this.value)" onblur="oy_akoya_reset_amount_blur(this.value)" value="Receiving Amount" />
                    <div style="position:absolute;right:1.3vh;width:40%;height:50%;top:1.6vh;">
                        <div id="oy_akoya_execute_button" align="center" class="oy_center_hor oy_button oy_button_all_dull" style="position:absolute;bottom:65%;width:98%;height:50%;" onclick="oy_akoya_execute()">
                            <div style="position:relative;">
                                SEND AKOYA
                            </div>
                        </div>
                        <div id="oy_akoya_wallet_button" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:0;left:0;width:52%;height:50%;" onclick="oy_akoya_wallet_open()">
                            <div style="position:relative;">
                                WALLET
                            </div>
                        </div>
                        <div id="oy_akoya_reset_button" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:0;right:0;width:41%;height:50%;" onclick="oy_akoya_reset()">
                            <div style="position:relative;">
                                RESET
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="oy_interface_upload" class="oy_center_hor oy_border oy_interface_main" style="top:0;width:100%;height:100%;background-color: #404040;z-index:100;display:none">
                <div align="center" class="oy_border oy_superhandle oy_tooltip oy_tooltip_warn">
                    <div class="oy_description_handle">HANDLE</div>
                    <div class="oy_center_both" style="width:100%;">
                        <div id="oy_tooltip_push" class="oy_tooltip_text" style="display:none;">Copy to clipboard</div>
                        <div id="oy_tooltip_push_warn" class="oy_tooltip_text_warn">Handle not copied!</div>
                        <input id="oy_push_superhandle" type="text" class="oy_superhandle_sub" style="text-align:center;width:90%;" onclick="oy_push_superhandle_copy()" onmouseout="oy_push_superhandle_reset()" readonly="readonly" value="" />
                    </div>
                </div>
                <div id="oy_push_stats_cont" class="oy_border oy_box" style="left:5%;width:15%;">
                    <div class="oy_description">STATISTICS</div>
                    <div id="oy_push_stats_alpha" class="oy_data_stats" style="left:7.5%">
                        AVG&nbsp;HOP:&nbsp;<span id="oy_push_stats_avg_hop" style="font-weight:bold">0</span><br>
                        TIME:&nbsp;<span id="oy_push_stats_elapsed" style="font-weight:bold">0&nbsp;sec</span>
                    </div>
                </div>
                <div id="oy_push_mesh_glue" class="oy_border oy_mesh_glue">
                    <div class="oy_description">MESH&nbsp;GLUE</div>
                    <div id="oy_push_mesh_glue_sub" class="oy_mesh_glue_sub">
                        G-/--%
                    </div>
                </div>
                <div class="oy_border oy_box">
                    <div class="oy_description">FILE&nbsp;UPLOAD</div>
                    <div style="position:absolute;top:32%;left:5%;width:94%;overflow:hidden">
                        <input type="file" id="oy_file_upload" onclick="oy_push_reset()" onmouseenter="oy_push_reset_handle_enter()" onmouseleave="oy_push_reset_handle_leave()" />
                    </div>
                </div>
                <div id="oy_push_execute" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:29%;right:5%;width:18%;height:12%;" onclick="oy_push_execute()">
                    <div style="position:relative;">
                        MESH&nbsp;PUSH
                    </div>
                </div>
                <div id="oy_push_halt" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:11%;right:15.5%;width:7.5%;height:12%;" onclick="oy_push_halt()">
                    <div style="position:relative;">
                        HALT
                    </div>
                </div>
                <div id="oy_push_reset" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:11%;right:5%;width:9.5%;height:12%;" onclick="oy_push_reset()" onmouseenter="oy_push_reset_handle_enter()" onmouseleave="oy_push_reset_handle_leave()">
                    <div style="position:relative;">
                        RESET
                    </div>
                </div>
            </div>
            <div id="oy_interface_download" class="oy_center_hor oy_border oy_interface_main" style="top:0;width:100%;height:100%;background-color: #404040;z-index:100;display:none">
                <div align="center" class="oy_border oy_superhandle">
                    <div class="oy_description_handle">HANDLE</div>
                    <div class="oy_center_both" style="width:100%;">
                        <input id="oy_pull_superhandle" type="text" class="oy_superhandle_sub" style="text-align:center;width:90%;" onclick="oy_pull_reset_handle_click()" oninput="oy_pull_reset_handle_blur()" onchange="oy_pull_reset_handle_blur()" value="" />
                    </div>
                </div>
                <div id="oy_pull_stats_cont" class="oy_border oy_box" style="left:5%;">
                    <div class="oy_description">STATISTICS</div>
                    <div id="oy_pull_stats_alpha" class="oy_data_stats" style="left:3.5%">
                        AVG&nbsp;HOP:&nbsp;<span id="oy_pull_stats_avg_hop" style="font-weight:bold">0</span><br>
                        TIME:&nbsp;<span id="oy_pull_stats_elapsed" style="font-weight:bold">0&nbsp;sec</span>
                    </div>
                    <div id="oy_pull_stats_beta" class="oy_data_stats" style="right:0">
                        COVERAGE:&nbsp;<span id="oy_pull_stats_coverage" style="font-weight:bold">0%</span><br>
                        CONFLICTS:&nbsp;<span id="oy_pull_stats_conflicts" style="font-weight:bold">0</span>
                    </div>
                </div>
                <div id="oy_pull_mesh_glue" class="oy_border oy_mesh_glue" style="display:none;">
                    <div class="oy_description">MESH&nbsp;GLUE</div>
                    <div id="oy_pull_mesh_glue_sub" class="oy_mesh_glue_sub">
                        G-/--%
                    </div>
                </div>
                <div class="oy_border oy_box">
                    <div class="oy_description">DESTINATION</div>
                    <div style="position:absolute;top:0;left:4%;height:100%;width:100%;">
                        <div style="position:absolute;top:0;"><input id="oy_dest_recommit" type="radio" style="transform:scale(0.8);" onclick="oy_dest_radio(this.id)">&nbsp;<span id="oy_dest_recommit_inner">Recommit&nbsp;to&nbsp;mesh</span></div>
                        <div style="position:absolute;top:50%;transform: translateY(-50%)"><input id="oy_dest_view" type="radio" style="transform:scale(0.8);" onclick="oy_dest_radio(this.id)">&nbsp;<span id="oy_dest_view_inner">View&nbsp;in&nbsp;browser</span></div>
                        <div style="position:absolute;bottom:0;"><input id="oy_dest_download" type="radio" style="transform:scale(0.8);" onclick="oy_dest_radio(this.id)">&nbsp;<span id="oy_dest_download_inner">Download&nbsp;as&nbsp;file</span></div>
                        <div id="oy_dest_go" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:28%;right:15%;width:18%;height:45%;" onclick="oy_dest_go()">
                            <div style="position:relative;">
                                GO
                            </div>
                        </div>
                    </div>
                </div>
                <div id="oy_pull_execute" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:29%;right:5%;width:18%;height:12%;" onclick="oy_pull_execute()">
                    <div style="position:relative;">
                        MESH&nbsp;PULL
                    </div>
                </div>
                <div id="oy_pull_halt" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:11%;right:15.5%;width:7.5%;height:12%;" onclick="oy_pull_halt()">
                    <div style="position:relative;">
                        HALT
                    </div>
                </div>
                <div id="oy_pull_reset" align="center" class="oy_button oy_button_all_dull" style="position:absolute;bottom:11%;right:5%;width:9.5%;height:12%;" onclick="oy_pull_reset()">
                    <div style="position:relative;">
                        RESET
                    </div>
                </div>
            </div>
        </div>
        <div class="oy_border oy_graph" style="position:absolute;bottom:0;left:0;width:49%;height:53%;background-color: #404040;overflow: hidden" onmouseenter="oy_console_hover_on()" onmouseleave="oy_console_hover_off()">
            <div id="oy_console_hover_indicator" style="position:absolute;top:1%;right:1%;width:2.5%;height:4%;background-color: #c37b2c;border-radius: 50%;display: none;z-index: 200;"></div>
            <div id="oy_console" class="oy_center_both">***<br></div>
        </div>
        <div id="oy_graph_block" class="oy_border oy_graph" style="position:absolute;bottom:0;right:41.4%;width:8%;height:53%;background-color: #404040;overflow:hidden;"></div>
        <div id="oy_graph_nodes" class="oy_border oy_graph" style="position:absolute;bottom:0;right:0;width:40%;height:53%;background-color: #404040;overflow:hidden;">
            <div id="oy_top_inner" style="position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);overflow:hidden;"></div>
        </div>
        <div id="oy_stats" class="oy_border oy_graph" style="position:absolute;top:0;left:0;width:23%;height:43%;background-color: #404040;overflow:hidden;">
            <div class="oy_center_both oy_stats" style="top:40%;height:72%;width:100%;">
                <div align="right" style="position:absolute;left:-2.5%;top:0;width:50%;height:100%;">
                    PEER&nbsp;COUNT<br>
                    MESH&nbsp;RANGE<br>
                    ROSTER&nbsp;AVG<br>
                    LATENCY&nbsp;AVG<br>
                    BEAM&nbsp;FLOW<br>
                    SOAK&nbsp;FLOW<br>
                    MB&nbsp;UPTIME<br>
                    MB&nbsp;WEIGHT<br>
                    MB&nbsp;STABILITY<br>
                    AKOYA&nbsp;DIVE<br>
                </div>
                <div class="oy_center_hor" style="top:2%;width:0.7%;height:90%;background-color: #2a2a2a;">
                </div>
                <div style="position:absolute;right:-2.5%;top:0;width:50%;height:100%;font-weight:bold;">
                    <span id="oy_peer_count_cont"><span id="oy_peer_count">null</span>&nbsp;peer(s)</span><br>
                    <span id="oy_mesh_range">null</span>&nbsp;node(s)<br>
                    <span id="oy_roster_avg">null</span>&nbsp;sig<br>
                    <span id="oy_latency_avg">null</span>&nbsp;sec<br>
                    <span id="oy_beam_flow">null</span>&nbsp;kbps<br>
                    <span id="oy_soak_flow">null</span>&nbsp;kbps<br>
                    <span id="oy_block_uptime">null</span>&nbsp;min<br>
                    <span id="oy_block_weight">null</span>&nbsp;KB<br>
                    <span id="oy_block_stability">null</span>&nbsp;SD<br>
                    <span id="oy_akoya_dive_track">null</span>&nbsp;AKYT<br>
                </div>
                <div id="oy_light_mode" align="center" class="oy_button oy_button_all_active" style="position:absolute;bottom:-12%;left:29%;transform:translateX(-50%);width:38%;height:10%;" onclick="oy_mode_push(true)">
                    <div style="position:relative;">
                        LIGHT&nbsp;MODE
                    </div>
                </div>
                <div id="oy_obj_top" align="center" class="oy_button oy_button_all_active" style="position:absolute;bottom:-12%;left:71%;transform:translateX(-50%);width:38%;height:10%;">
                    <a href="https://top.oyster.org" style="text-decoration: none">
                        <div style="position:relative;top:-3%">
                            OBJ&nbsp;TOP
                        </div>
                    </a>
                </div>
                <div id="oy_full_mode" align="center" class="oy_button oy_button_all_active" style="position:absolute;bottom:-27%;left:29%;transform:translateX(-50%);width:38%;height:10%;" onclick="oy_mode_push(false)">
                    <div style="position:relative;">
                        FULL&nbsp;MODE
                    </div>
                </div>
                <div id="oy_low_power" align="center" class="oy_button oy_button_all_active" style="position:absolute;bottom:-27%;left:71%;transform:translateX(-50%);width:38%;height:10%;" onclick="oy_low_power_toggle()">
                    <div style="position:relative;">
                        LOW&nbsp;POWER
                    </div>
                </div>
            </div>
        </div>
        <div id="oy_graph_peers" class="oy_border oy_graph" style="position:absolute;top:0;right:0;width:23%;height:43%;background-color: #404040;">
            <div id="oy_graph_slot_4" class="oy_peer" style="top:4%;"></div>
            <div id="oy_graph_slot_3" class="oy_peer" style="top:24%;"></div>
            <div id="oy_graph_slot_2" class="oy_peer" style="top:44%;"></div>
            <div id="oy_graph_slot_1" class="oy_peer" style="top:64%;"></div>
            <div id="oy_graph_slot_0" class="oy_peer" style="top:84%;"></div>
        </div>
    </div>
    <div class="oy_signature oy_fade two">
        <div class="oy_center_hor" style="top:0;">Designed&nbsp;and&nbsp;developed&nbsp;by&nbsp;<a href="https://github.com/brunoblock"><img alt="Bruno Block" src="oy_resources/oy_logo_bruno.png" class="oy_signature_img" style="left:0.5%;"></a></div>
    </div>
</div>
<script type="text/javascript">
    const OY_CONSOLE_SIZE = 400;
    const OY_NODE_MAX = 30;
    const OY_NODE_ADDTIME = 40;
    const OY_NODE_ACTIVETIME = 150;
    const OY_LINK_ADDTIME = 60;
    const OY_LINK_ACTIVETIME = 110;
    const OY_HOP_KEEP = 100;

    let OY_DEST_RADIO = "oy_dest_view";
    let OY_MAINTAIN_DELAY = 500;
    let OY_DAPPER_MINIMIZED = false;
    let OY_MAINTAIN_TRIGGER = new Event('oy_maintain_trigger');//trigger-able event for maintain cadence
    let OY_COVER = false;
    let OY_COVER_THREAD = {};
    let OY_WALLET_PRIVATE = null;
    let OY_WALLET_PUBLIC = null;
    let OY_WALLET_CALLBACK = null;
    let OY_WALLET_CRYPT = null;
    let OY_FILE_DATA = null;
    let OY_FILE_KEEP = null;
    let OY_MESH_GLUE = [];
    let OY_HANDLE_PUSH = null;
    let OY_HANDLE_PUSH_COPY = null;
    let OY_NONCE_MAX_PUSH = null;
    let OY_NONCE_MAX_PULL = null;
    let OY_HANDLE_PULL = null;
    let OY_GRAPH_NONCE_STORE = {};
    let OY_EXECUTE_LAST = null;
    let OY_EXECUTE_PUSH = false;
    let OY_EXECUTE_PULL = false;
    let OY_EXECUTE_RECOMMIT = false;
    let OY_EXECUTE_SEND = false;
    let OY_EXECUTE_RECEIVE = false;
    let OY_CONSOLE_COUNTER = 0;
    let OY_CONSOLE_HOVER = false;
    let OY_PUSH_ELAPSED = null;
    let OY_PUSH_AVG_HOP = [];
    let OY_PULL_AVG_HOP = [];
    let OY_PULL_ELAPSED = null;
    let OY_PULL_COVERAGE = [];
    let OY_PULL_CONFLICTS = {};
    let OY_PUSH_PAUSE = null;
    let OY_PULL_PAUSE = null;
    let OY_RECOMMIT_PAUSE = null;
    let OY_GRAPH_PEERS = [false, false, false, false, false];
    let OY_GRAPH_PEERS_PREV = [false, false, false, false, false];
    let OY_NODE_KEEP = {};
    let OY_NODE_CHECK = {};
    let OY_LINK_KEEP = {};
    let OY_KEY_ENTER = new Event('oy_key_enter');//trigger-able event for when the enter key is pressed
    let OY_KEY_SHIFT = false;
    let OY_WALLET_CLOSE = new Event('oy_wallet_close');//trigger-able event for when the enter key is pressed
    let OY_AKOYA_PROCESS = false;
    let OY_AKOYA_KEEP = {};
    let OY_AKOYA_KEEP_TOP = null;
    let OY_AKOYA_AMOUNT_PREV = "";
    let OY_MAP_NODES = {};
    let OY_MAP_LINKS = {};
    let OY_MAP_NODES_RESERVE = {};
    let OY_MAP_LINKS_RESERVE = {};
    let OY_BLOCK_RENDER_ACTIVE = false;
    let OY_BLOCK_MAP_FUNC = null;
    let OY_MESH_MAP_FUNC = null;
    let OY_LOW_POWER = false;
    let OY_LOW_POWER_THREAD = {};
    let OY_BLOCK_GRAPH = "<div id='oy_graph_block_inner' style='position:absolute;bottom:0.5%;left:2%;width:96%;height:0;background-color: #565656;transition:height 20s linear;overflow:hidden;z-index: 10;'></div><div class='oy_center_both' style='width:120%;height:60%;border:0.2vh dashed #000000;z-index: 60;'></div>";

    let oy_local_init = function() {
        document.getElementById("oy_graph_block").innerHTML = OY_BLOCK_GRAPH;

        oy_dapper_input();

        document.getElementById("oy_push_superhandle").value = "-".repeat(82);
        document.getElementById("oy_pull_superhandle").value = "-".repeat(82);

        document.getElementById("oy_file_upload").addEventListener('change', oy_file_change, false);
        document.getElementById("oy_file_pearl").addEventListener('change', oy_wallet_read, false);

        window.addEventListener("orientationchange", function() {
            oy_top_render();
        });

        document.addEventListener("keydown", function(oy_event) {
            let oy_key = oy_event.which || oy_event.charCode || oy_event.keyCode || 0;
            if (OY_KEY_SHIFT===false&&(oy_event.key==="Enter"||oy_key===13)) {
                oy_event.preventDefault();
                document.dispatchEvent(OY_KEY_ENTER);
            }
            else if (oy_event.key==="Shift"||oy_key===16) OY_KEY_SHIFT = true;
        });

        document.addEventListener("keyup", function(oy_event) {
            let oy_key = oy_event.which || oy_event.charCode || oy_event.keyCode || 0;
            if (oy_event.key==="Shift"||oy_key===16) OY_KEY_SHIFT = false;
        });

        document.addEventListener("oy_key_enter", oy_dapper_launch, false);
        document.addEventListener("oy_block_init", oy_block_render, false);
        document.addEventListener("oy_block_reset", oy_block_render_reset, false);
        document.addEventListener("oy_block_reset", oy_block_reset_local, false);
        document.addEventListener("oy_block_trigger", oy_block_process, false);
        document.addEventListener("oy_block_trigger", oy_top_render, false);
        document.addEventListener("oy_peers_null", oy_top_render_reset, false);
        document.addEventListener("oy_peers_null", oy_block_reset_local, false);
        document.addEventListener("oy_peers_recover", oy_block_process, false);
        document.addEventListener("oy_state_blank", oy_mode_state_blank, false);
        document.addEventListener("oy_state_light", oy_mode_state_light, false);
        document.addEventListener("oy_state_full", oy_mode_state_full, false);

        OY_ERROR_BROWSER = function() {
            document.getElementById("oy_graph_akoya_progress").innerHTML = "<div class='oy_center_both' style='font-size:2.8vh;color:#000000;font-weight:bold;font-family: \'Courier New\''>INCOMPATIBLE&nbsp;BROWSER</div>";
            document.getElementById("oy_graph_akoya_progress").style.backgroundColor = "#cbba3c";
            document.getElementById("oy_graph_akoya_progress").style.display = "block";
        };

        document.getElementById(OY_DEST_RADIO).checked = true;

        window.onblur = function() {
            oy_low_power_on("OY_THREAD_BLUR");
        };

        window.onfocus = function() {
            oy_low_power_off("OY_THREAD_BLUR");
        };

        oy_console_local("Loading console...");

        oy_init(function() {
            OY_BLOCK_MAP_FUNC = function(oy_sector, oy_self) {
                if (OY_BLOCK_RENDER_ACTIVE===false) return false;
                let oy_block_diff = Date.now()/1000 - OY_BLOCK_TIME;
                let oy_element = document.createElement("div");
                oy_element.style.position = "absolute";
                oy_element.style.bottom = "calc("+(1+((oy_block_diff/20)*98))+"% - 0.28vh)";
                oy_element.style.left = "2%";
                oy_element.style.width = "96%";
                oy_element.style.height = "0.22vh";
                oy_element.style.opacity = "0.3";
                oy_element.style.zIndex = "30";
                if (oy_self===true) {
                    oy_element.style.backgroundColor = "#24ab26";
                    oy_element.style.opacity = "0.9";
                    oy_element.style.zIndex = "40";
                }
                else if (oy_sector===0) oy_element.style.backgroundColor = "#964bab";
                else if (oy_sector===1) oy_element.style.backgroundColor = "#348fab";
                else if (oy_sector===2) oy_element.style.backgroundColor = "#2063bd";
                document.getElementById("oy_graph_block").appendChild(oy_element);
            };
            OY_MESH_MAP_FUNC = function(oy_passport_passive) {
                let oy_node_prev = null;
                for (let i in oy_passport_passive) {
                    OY_MAP_NODES[oy_passport_passive[i]] = true;
                    if (oy_node_prev!==null) {
                        let oy_node_array = [oy_node_prev, oy_passport_passive[i]];
                        oy_node_array.sort();
                        if (typeof(OY_MAP_LINKS[oy_node_array[0]])==="undefined") OY_MAP_LINKS[oy_node_array[0]] = [];
                        if (OY_MAP_LINKS[oy_node_array[0]].indexOf(oy_node_array[1])===-1) OY_MAP_LINKS[oy_node_array[0]].push(oy_node_array[1]);
                    }
                    oy_node_prev = oy_passport_passive[i];
                }
            };

            OY_BLOCK_MAP = OY_BLOCK_MAP_FUNC;
            OY_MESH_MAP = null;

            oy_maintain();
            oy_block_render_resume();

            OY_MAP_NODES = {};
            OY_MAP_LINKS = {};

            document.getElementById("oy_top_inner").style.overflow = "visible";
            document.getElementById("oy_top_inner").innerHTML = "<div class='oy_center_both' style='font-family:geo_med, sans-serif;font-size:1.5vh;color:#e2e2e2;'>[BLANK&nbsp;MODE]</div>";

            if (location.hash==="#akoya") oy_tab("oy_tab_wallet");
            else if (location.hash.indexOf(".mesh")!==-1) {
                oy_tab("oy_tab_dapper");
                document.getElementById("oy_dapper_input").value = location.hash.substr(1);
                oy_dapper_input();
                oy_dapper_launch();
            }
            else if (location.hash.substr(0, 3)==="#OY"&&location.hash.length>=46) {
                document.getElementById('oy_pull_superhandle').value = location.hash.substr(1);
                oy_pull_reset_handle_blur();
                oy_tab("oy_tab_download");
                oy_pull_execute();
            }

            oy_dest_radio("oy_dest_view");
        }, null,
        function(oy_console_msg) {
            oy_console_local(oy_console_msg);
        });
    };

    window.onload = function() {
        oy_local_init();
    };

    function oy_mode_state_blank() {
        document.getElementById("oy_light_mode").classList.remove("oy_button_all_active");
        document.getElementById("oy_light_mode").classList.add("oy_button_alt_active");
        document.getElementById("oy_light_mode").style.animation = "flash_purple linear 0.5s infinite";

        if (OY_LIGHT_MODE===true) {
            document.getElementById("oy_full_mode").classList.remove("oy_button_execute_active");
            document.getElementById("oy_full_mode").classList.add("oy_button_all_active");
            document.getElementById("oy_full_mode").style.animation = null;
        }
        else {
            document.getElementById("oy_full_mode").classList.remove("oy_button_all_active");
            document.getElementById("oy_full_mode").classList.add("oy_button_execute_active");
            document.getElementById("oy_full_mode").style.animation = "flash_blue linear 0.5s infinite";
        }

        OY_MESH_MAP = null;
        OY_MAP_NODES = {};
        OY_MAP_LINKS = {};
        OY_MAP_NODES_RESERVE = {};
        OY_MAP_LINKS_RESERVE = {};

        document.getElementById("oy_top_inner").style.overflow = "visible";
        document.getElementById("oy_top_inner").innerHTML = "<div class='oy_center_both' style='font-family:geo_med, sans-serif;font-size:1.5vh;color:#e2e2e2;'>[BLANK&nbsp;MODE]</div>";
    }

    function oy_mode_state_light() {
        document.getElementById("oy_light_mode").classList.remove("oy_button_all_active");
        document.getElementById("oy_light_mode").classList.add("oy_button_alt_active");
        document.getElementById("oy_light_mode").style.animation = null;

        if (OY_LIGHT_MODE===true) {
            document.getElementById("oy_full_mode").classList.remove("oy_button_execute_active");
            document.getElementById("oy_full_mode").classList.add("oy_button_all_active");
            document.getElementById("oy_full_mode").style.animation = null;
        }
        else {
            document.getElementById("oy_full_mode").classList.remove("oy_button_all_active");
            document.getElementById("oy_full_mode").classList.add("oy_button_execute_active");
            document.getElementById("oy_full_mode").style.animation = "flash_blue linear 0.5s infinite";
        }

        OY_MESH_MAP = null;
        OY_MAP_NODES = {};
        OY_MAP_LINKS = {};
        OY_MAP_NODES_RESERVE = {};
        OY_MAP_LINKS_RESERVE = {};

        document.getElementById("oy_top_inner").style.overflow = "visible";
        document.getElementById("oy_top_inner").innerHTML = "<div class='oy_center_both' style='font-family:geo_med, sans-serif;font-size:1.5vh;color:#e2e2e2;'>[LIGHT&nbsp;MODE]</div>";
    }

    function oy_mode_state_full() {
        document.getElementById("oy_full_mode").classList.remove("oy_button_all_active");
        document.getElementById("oy_full_mode").classList.add("oy_button_execute_active");
        document.getElementById("oy_full_mode").style.animation = null;

        if (OY_LIGHT_MODE===true) {
            document.getElementById("oy_light_mode").classList.remove("oy_button_all_active");
            document.getElementById("oy_light_mode").classList.add("oy_button_alt_active");
            document.getElementById("oy_light_mode").style.animation = "flash_purple linear 0.5s infinite";
        }
        else {
            document.getElementById("oy_light_mode").classList.remove("oy_button_alt_active");
            document.getElementById("oy_light_mode").classList.add("oy_button_all_active");
            document.getElementById("oy_light_mode").style.animation = null;
        }

        if (document.getElementById("oy_top_inner").style.overflow==="visible") {
            OY_MAP_NODES = OY_MAP_NODES_RESERVE;
            OY_MAP_LINKS = OY_MAP_LINKS_RESERVE;
            OY_MESH_MAP = OY_MESH_MAP_FUNC;

            document.getElementById("oy_top_inner").innerHTML = "";
            document.getElementById("oy_top_inner").style.overflow = "hidden";

            oy_top_render();
        }
    }

    function oy_mode_push(oy_light_mode) {
        OY_LIGHT_MODE = oy_light_mode;

        let oy_state_local = oy_state_current();

        if (oy_state_local==="OY_STATE_BLANK") oy_mode_state_blank();
        else if (oy_state_local==="OY_STATE_LIGHT") oy_mode_state_light();
        else if (oy_state_local==="OY_STATE_FULL") oy_mode_state_full();
    }

    function oy_low_power_toggle() {
        if (OY_LOW_POWER===false) oy_low_power_on("OY_THREAD_TOGGLE");
        else if (OY_LOW_POWER===true) oy_low_power_off("OY_THREAD_TOGGLE");
    }

    function oy_low_power_on(oy_thread) {
        OY_LOW_POWER_THREAD[oy_thread] = true;
        if (OY_LOW_POWER===false) {
            OY_LOW_POWER = true;
            OY_BLOCK_MAP = null;
            OY_MESH_MAP = null;
            OY_MAP_NODES = {};
            OY_MAP_LINKS = {};
            OY_MAINTAIN_DELAY = 2000;
            OY_BLOCK_RENDER_ACTIVE = false;

            document.getElementById("oy_graph_block").innerHTML = OY_BLOCK_GRAPH;
            document.getElementById("oy_top_inner").style.overflow = "visible";
            document.getElementById("oy_top_inner").innerHTML = "<div class='oy_center_both' style='font-family:geo_med, sans-serif;font-size:1.5vh;color:#e2e2e2;'>[LOW&nbsp;POWER&nbsp;MODE]</div>";

            oy_element_add("oy_console", "span", "oy_console_line_"+OY_CONSOLE_COUNTER, "***LOW POWER MODE***<br>");
            OY_CONSOLE_COUNTER++;
            if (OY_CONSOLE_COUNTER>=OY_CONSOLE_SIZE) oy_element_remove("oy_console_line_"+(OY_CONSOLE_COUNTER-OY_CONSOLE_SIZE));
            document.getElementById("oy_console").scrollTo(0, document.getElementById("oy_console").scrollHeight);

            document.getElementById("oy_low_power").classList.remove("oy_button_all_active");
            document.getElementById("oy_low_power").classList.add("oy_button_execute_active");
        }
    }

    function oy_low_power_off(oy_thread) {
        delete OY_LOW_POWER_THREAD[oy_thread];
        if (Object.keys(OY_LOW_POWER_THREAD).length===0&&OY_LOW_POWER===true) {
            OY_LOW_POWER = false;
            OY_BLOCK_MAP = OY_BLOCK_MAP_FUNC;
            OY_MAINTAIN_DELAY = 500;

            document.getElementById("oy_graph_block").innerHTML = OY_BLOCK_GRAPH;
            oy_block_render_resume();

            document.getElementById("oy_low_power").classList.remove("oy_button_execute_active");
            document.getElementById("oy_low_power").classList.add("oy_button_all_active");

            oy_mode_push(OY_LIGHT_MODE);
        }
    }

    function oy_maintain() {
        document.dispatchEvent(OY_MAINTAIN_TRIGGER);

        let oy_time_local = Date.now()/1000|0;

        let oy_avg_latency = [];
        let oy_avg_beam = [];
        let oy_avg_soak = [];
        let oy_peer_keep = [];
        for (let oy_peer_local in OY_PEERS) {
            if (oy_peer_local==="oy_aggregate_node") continue;
            oy_data_measure(true, oy_peer_local, null);
            oy_data_measure(false, oy_peer_local, null);
            oy_peer_keep.push([oy_short(oy_peer_local), OY_PEERS[oy_peer_local][3], OY_PEERS[oy_peer_local][5], OY_PEERS[oy_peer_local][7], OY_PEERS[oy_peer_local][9]]);
            oy_avg_latency.push(OY_PEERS[oy_peer_local][3]);
            oy_avg_beam.push(OY_PEERS[oy_peer_local][5]);
            oy_avg_soak.push(OY_PEERS[oy_peer_local][7]);
        }

        let oy_blank = "---";
        document.getElementById("oy_mesh_range").innerHTML = OY_MESH_RANGE;
        document.getElementById("oy_roster_avg").innerHTML = (OY_BLOCK_ROSTER_AVG===null)?oy_blank:OY_BLOCK_ROSTER_AVG.toFixed(3);
        if (oy_avg_latency.length>0) document.getElementById("oy_latency_avg").innerHTML = (oy_avg_latency.reduce(oy_reduce_sum)/oy_avg_latency.length).toFixed(3);
        else document.getElementById("oy_latency_avg").innerHTML = 0;
        if (oy_avg_beam.length>0) document.getElementById("oy_beam_flow").innerHTML = (oy_avg_beam.reduce(oy_reduce_sum)/1000).toFixed(2);
        else document.getElementById("oy_beam_flow").innerHTML = "0";
        if (oy_avg_soak.length>0) document.getElementById("oy_soak_flow").innerHTML = (oy_avg_soak.reduce(oy_reduce_sum)/1000).toFixed(2);
        else document.getElementById("oy_soak_flow").innerHTML = "0";
        document.getElementById("oy_block_uptime").innerHTML = (OY_BLOCK_UPTIME===null)?oy_blank:((oy_time_local - OY_BLOCK_UPTIME)/60).toFixed(2);
        document.getElementById("oy_block_weight").innerHTML = (OY_BLOCK_WEIGHT===null)?oy_blank:(OY_BLOCK_WEIGHT/1024).toFixed(2);
        document.getElementById("oy_block_stability").innerHTML = (OY_BLOCK_STABILITY_KEEP.length<OY_BLOCK_STABILITY_TRIGGER)?oy_blank:OY_BLOCK_STABILITY.toFixed(4);
        document.getElementById("oy_akoya_dive_track").innerHTML = (OY_BLOCK_DIVE_TRACK===0)?oy_blank:OY_BLOCK_DIVE_TRACK/OY_AKOYA_DECIMALS;

        oy_peer_keep.sort(function(a, b) {
            return b[1] - a[1];
        });

        // noinspection JSUnusedAssignment
        let i = -1;
        for (i in oy_peer_keep) {
            if (i>4) break;
            oy_graph_peer(i, oy_peer_keep[i][0], " - "+oy_peer_keep[i][1].toFixed(3)+"s - ["+((oy_peer_keep[i][4]===2)?"F":((oy_peer_keep[i][4]===1)?"L":"B"))+"]", Math.round((oy_peer_keep[i][2]/(oy_peer_keep[i][2]+oy_peer_keep[i][3]))*100));
        }
        i++;
        while (i <= 4) {
            oy_graph_peer(i, null, null, 0);
            i++;
        }

        if (OY_EXECUTE_PUSH===true) {
            let oy_local_elapsed = ((Date.now()/1000)-OY_PUSH_ELAPSED);
            let oy_suffix = "&nbsp;sec";
            if (oy_local_elapsed>60) {
                oy_local_elapsed /= 60;
                oy_suffix = "&nbsp;min";
            }
            if (oy_local_elapsed>60) {
                oy_local_elapsed /= 60;
                oy_suffix = "&nbsp;hrs";
            }
            document.getElementById("oy_push_stats_elapsed").innerHTML = oy_local_elapsed.toFixed(1)+oy_suffix;
        }

        if (OY_EXECUTE_PULL===true||OY_EXECUTE_RECOMMIT===true) {
            let oy_local_elapsed = ((Date.now()/1000)-OY_PULL_ELAPSED);
            let oy_suffix = "&nbsp;sec";
            if (oy_local_elapsed>60) {
                oy_local_elapsed /= 60;
                oy_suffix = "&nbsp;min";
            }
            if (oy_local_elapsed>60) {
                oy_local_elapsed /= 60;
                oy_suffix = "&nbsp;hrs";
            }
            document.getElementById("oy_pull_stats_elapsed").innerHTML = oy_local_elapsed.toFixed(1)+oy_suffix;
        }

        document.getElementById("oy_peer_count").innerHTML = ""+OY_PEER_COUNT;
        if (OY_PEER_COUNT===0) {
            document.getElementById("oy_peer_count_cont").style.color = "#000000";
            document.getElementById("oy_peer_count_cont").style.backgroundColor = "#c37b2c";
        }
        else if (OY_PEER_COUNT<=2) {
            document.getElementById("oy_peer_count_cont").style.color = "#000000";
            document.getElementById("oy_peer_count_cont").style.backgroundColor = "#cbba3c";
        }
        else {
            document.getElementById("oy_peer_count_cont").style.color = null;
            document.getElementById("oy_peer_count_cont").style.backgroundColor = null;
        }
        setTimeout("oy_maintain()", OY_MAINTAIN_DELAY);
    }

    function oy_superhandle_check(oy_value) {
        return (oy_value.substr(0, 2)==="OY"&&oy_value.length>40);
    }

    function oy_console_local(oy_console_msg) {
        if (OY_CONSOLE_HOVER===true||OY_LOW_POWER===true) return false;
        let oy_msg_build = "<span>";
        if (typeof(OY_SELF_SHORT)==="undefined") oy_msg_build += "null@mesh$ ";
        else oy_msg_build += OY_SELF_SHORT+"@mesh$ ";
        oy_element_add("oy_console", "span", "oy_console_line_"+OY_CONSOLE_COUNTER, oy_msg_build+oy_console_msg+"<br>");
        OY_CONSOLE_COUNTER++;
        if (OY_CONSOLE_COUNTER>=OY_CONSOLE_SIZE) oy_element_remove("oy_console_line_"+(OY_CONSOLE_COUNTER-OY_CONSOLE_SIZE));
        document.getElementById("oy_console").scrollTo(0, document.getElementById("oy_console").scrollHeight);
    }

    function oy_console_hover_on() {
        OY_CONSOLE_HOVER = true;
        document.getElementById("oy_console_hover_indicator").style.display = "block";
    }

    function oy_console_hover_off() {
        OY_CONSOLE_HOVER = false;
        document.getElementById("oy_console_hover_indicator").style.display = "none";
        document.getElementById("oy_console").scrollTo(0, document.getElementById("oy_console").scrollHeight);
    }

    function oy_time_print(oy_time) {
        let d = new Date(oy_time * 1000),
            dd = d.getDate(),
            hh = d.getHours(),
            h = hh,
            min = ('0' + d.getMinutes()).slice(-2),
            ampm = 'AM';
        if (hh > 12) {
            h = hh - 12;
            ampm = 'PM';
        }
        else if (hh===12) {
            h = 12;
            ampm = 'PM';
        }
        else if (hh === 0) h = 12;
        let z = "th";
        if (dd===1) z = "st";
        else if (dd===2) z = "nd";
        else if (dd===3) z = "rd";
        return dd+z+"&nbsp;/&nbsp;"+h+":"+min+'&nbsp;'+ampm;
    }

    function oy_copy_key(oy_copy_type, oy_object_id) {
        if (oy_copy_type===0) document.getElementById("oy_copy_key_input").value = OY_WALLET_PUBLIC;
        else if (oy_copy_type===1) document.getElementById("oy_copy_key_input").value = document.getElementById("oy_akoya_keep_alpha_key_"+oy_object_id.substr(20)).innerHTML;
        else if (oy_copy_type===2) document.getElementById("oy_copy_key_input").value = document.getElementById("oy_akoya_keep_beta_key_"+oy_object_id.substr(19)).innerHTML;
        else return false;
        document.getElementById("oy_copy_key_input").select();
        document.execCommand("copy");
    }

    function oy_cover_on(oy_thread) {
        OY_COVER_THREAD[oy_thread] = true;
        if (OY_COVER===false) {
            OY_COVER = true;
            document.getElementById("oy_cover").style.display = "block";

            oy_low_power_on("OY_THREAD_COVER");
        }
    }

    function oy_cover_off(oy_thread) {
        delete OY_COVER_THREAD[oy_thread];
        if (Object.keys(OY_COVER_THREAD).length===0&&OY_COVER===true) {
            OY_COVER = false;
            document.getElementById("oy_cover").style.display = "none";

            oy_low_power_off("OY_THREAD_COVER");
        }
    }

    function oy_block_render() {
        if (OY_LOW_POWER===true) return false;

        OY_BLOCK_RENDER_ACTIVE = true;

        document.getElementById("oy_graph_block").innerHTML = OY_BLOCK_GRAPH;
        setTimeout(function() {
            document.getElementById("oy_graph_block_inner").style.height = "99%";
        }, 100);
    }

    function oy_block_render_resume() {
        if (OY_LOW_POWER===true) return false;

        OY_BLOCK_RENDER_ACTIVE = true;

        document.getElementById("oy_graph_block").innerHTML = OY_BLOCK_GRAPH;
        let oy_block_diff = Date.now()/1000 - OY_BLOCK_TIME;
        let oy_element = document.createElement("div");
        oy_element.style.position = "absolute";
        oy_element.style.bottom = "calc("+(1+((oy_block_diff/20)*98))+"% - 0.3vh)";
        oy_element.style.left = "2%";
        oy_element.style.width = "96%";
        oy_element.style.height = "0.3vh";
        oy_element.style.backgroundColor = "#aba531";
        oy_element.style.zIndex = "45";
        document.getElementById("oy_graph_block").appendChild(oy_element);
        let oy_block_remain = OY_BLOCK_NEXT - (Date.now()/1000);
        document.getElementById("oy_graph_block_inner").style.height = (99*((20-oy_block_remain)/20))+"%";
        document.getElementById("oy_graph_block_inner").style.transition = "height "+(oy_block_remain*0.99).toFixed(3)+"s linear";

        setTimeout(function() {
            document.getElementById("oy_graph_block_inner").style.height = "99%";
        }, 100);
    }

    function oy_block_render_reset() {
        if (OY_LOW_POWER===true) return false;

        OY_BLOCK_RENDER_ACTIVE = false;

        document.getElementById("oy_graph_block").innerHTML = OY_BLOCK_GRAPH;
        document.getElementById("oy_graph_block_inner").style.transition = "background-color .3s ease-out";
        document.getElementById("oy_graph_block_inner").style.backgroundColor = "#c37b2c";
        document.getElementById("oy_graph_block_inner").style.height = "99%";
        setTimeout(function() {
            document.getElementById("oy_graph_block").innerHTML = OY_BLOCK_GRAPH;
            oy_block_render_resume();
        }, 300);
    }

    function oy_block_reset_local() {
        OY_BLOCK_RENDER_ACTIVE = false;
        OY_AKOYA_PROCESS = false;

        document.getElementById("oy_akoya_balance_inner").innerHTML = "------";
        document.getElementById("oy_graph_akoya_progress").style.display = "none";
        document.getElementById("oy_graph_akoya_progress_inner").style.backgroundColor = "transparent";
    }

    function oy_block_process() {
        if (OY_BLOCK_HASH===null||OY_WALLET_PUBLIC===null) return false;
        oy_akoya_balance();
        let oy_akoya_render = [];
        if (OY_AKOYA_PROCESS===false) {
            for (let oy_command_hash in OY_BLOCK[1]) {
                let oy_send_bool = OY_BLOCK[1][oy_command_hash][2]===OY_WALLET_PUBLIC;
                if (OY_BLOCK[1][oy_command_hash][0]==="OY_AKOYA_SEND"&&(oy_send_bool||OY_BLOCK[1][oy_command_hash][4]===OY_WALLET_PUBLIC)&&typeof(OY_AKOYA_KEEP[oy_command_hash])==="undefined") {
                    OY_AKOYA_KEEP[oy_command_hash] = true;
                    oy_akoya_render.push([oy_command_hash, OY_BLOCK[1][oy_command_hash], oy_send_bool]);
                }
            }
            OY_AKOYA_PROCESS = true;
        }
        else {
            for (let oy_command_hash in OY_BLOCK_NEW) {
                let oy_send_bool = OY_BLOCK_NEW[oy_command_hash][2]===OY_WALLET_PUBLIC;
                if (OY_BLOCK_NEW[oy_command_hash][0]==="OY_AKOYA_SEND"&&(oy_send_bool||OY_BLOCK_NEW[oy_command_hash][4]===OY_WALLET_PUBLIC)&&typeof(OY_AKOYA_KEEP[oy_command_hash])==="undefined") {
                    OY_AKOYA_KEEP[oy_command_hash] = true;
                    oy_akoya_render.push([oy_command_hash, OY_BLOCK_NEW[oy_command_hash], oy_send_bool]);
                }
            }
        }

        oy_akoya_render.sort(function(a, b) {
            if (a[1][1]===b[1][1]) {
                let x = a[0].toLowerCase();
                let y = b[0].toLowerCase();

                return x < y ? -1 : x > y ? 1 : 0;
            }
            return a[1][1] - b[1][1];
        });

        for (let i in oy_akoya_render) {
            let oy_element = document.createElement("div");
            oy_element.setAttribute('id', "oy_akoya_keep_"+oy_akoya_render[i][0]);
            oy_element.innerHTML = "<div id='oy_akoya_keep_alpha_"+oy_akoya_render[i][0]+"' style='position:relative;width:2vh;height:2vh;background-color: #2a2a2a;display:inline-block' onmouseover='this.style.cursor = \"pointer\"' onclick='oy_copy_key(1, this.id)'></div><div id='oy_akoya_keep_alpha_key_"+oy_akoya_render[i][0]+"' style='display:none;'></div><div align='center' style='position: relative;bottom:0;width:3vh;height:2vh;font-size:2.2vh;color:#3b3b3b;display: inline-block;'><div style='position:relative;top:55%;transform:perspective(1px) translateY(-50%);'>"+((oy_akoya_render[i][2]===true)?"&rarr;":"&larr;")+"</div></div><div id='oy_akoya_keep_beta_"+oy_akoya_render[i][0]+"' style='position:relative;width:2vh;height:2vh;background-color: #2a2a2a;display:inline-block' onmouseover='this.style.cursor = \"pointer\"' onclick='oy_copy_key(2, this.id)'></div><div id='oy_akoya_keep_beta_key_"+oy_akoya_render[i][0]+"' style='display:none;'></div><div style='position: relative;width:66%;height:2vh;display: inline-block'><div class='oy_center_both'>"+(oy_akoya_render[i][1][3]/OY_AKOYA_DECIMALS).toFixed(2)+"&nbsp;<span style='color: #3b3b3b'>AKYT</span>&nbsp;|&nbsp;<span style='font-size:0.9vh;color: #3b3b3b'>"+oy_time_print(Math.floor(oy_akoya_render[i][1][1]))+"</span></div></div><br>";
            if (OY_AKOYA_KEEP_TOP===null) {
                document.getElementById("oy_akoya_keep_void").style.display = "none";
                document.getElementById("oy_akoya_keep_inner").appendChild(oy_element);
            }
            else document.getElementById("oy_akoya_keep_inner").insertBefore(oy_element, document.getElementById("oy_akoya_keep_"+OY_AKOYA_KEEP_TOP));
            if (oy_akoya_render[i][2]===true) {
                document.getElementById("oy_akoya_keep_alpha_key_"+oy_akoya_render[i][0]).innerHTML = oy_akoya_render[i][1][2];
                document.getElementById("oy_akoya_keep_beta_key_"+oy_akoya_render[i][0]).innerHTML = oy_akoya_render[i][1][4];
                oy_avatar_gen(oy_akoya_render[i][1][2], document.getElementById("oy_akoya_keep_alpha_"+oy_akoya_render[i][0]));
                oy_avatar_gen(oy_akoya_render[i][1][4], document.getElementById("oy_akoya_keep_beta_"+oy_akoya_render[i][0]));
            }
            else {
                document.getElementById("oy_akoya_keep_alpha_key_"+oy_akoya_render[i][0]).innerHTML = oy_akoya_render[i][1][4];
                document.getElementById("oy_akoya_keep_beta_key_"+oy_akoya_render[i][0]).innerHTML = oy_akoya_render[i][1][2];
                oy_avatar_gen(oy_akoya_render[i][1][4], document.getElementById("oy_akoya_keep_alpha_"+oy_akoya_render[i][0]));
                oy_avatar_gen(oy_akoya_render[i][1][2], document.getElementById("oy_akoya_keep_beta_"+oy_akoya_render[i][0]));
            }
            OY_AKOYA_KEEP_TOP = oy_akoya_render[i][0];
        }
    }

    function oy_akoya_load() {
        if (OY_WALLET_PUBLIC===null) {
            document.getElementById("oy_wallet_avatar_cont").innerHTML = "";
            document.getElementById("oy_wallet_avatar_cont").style.backgroundColor = "#2a2a2a";
            document.getElementById("oy_wallet_cont").style.display = "block";

            document.getElementById("oy_akoya_wallet_button").classList.remove("oy_button_reset_active");
            document.getElementById("oy_akoya_wallet_button").classList.add("oy_button_all_dull");
            oy_akoya_reset();
        }
        else {
            document.getElementById("oy_wallet_avatar_cont").innerHTML = "";
            oy_avatar_gen(OY_WALLET_PUBLIC, document.getElementById("oy_wallet_avatar_cont"));
            document.getElementById("oy_wallet_cont").style.display = "none";

            document.getElementById("oy_akoya_wallet_button").classList.remove("oy_button_all_dull");
            document.getElementById("oy_akoya_wallet_button").classList.add("oy_button_reset_active");
        }
        document.getElementById("oy_akoya_keep_void").style.display = "block";
        document.getElementById("oy_akoya_keep_inner").innerHTML = "";
        OY_AKOYA_KEEP_TOP = null;
        OY_AKOYA_KEEP = {};
        OY_AKOYA_PROCESS = false;
        document.getElementById("oy_akoya_balance_inner").innerHTML = "------";
        oy_block_process();
    }

    function oy_akoya_balance() {
        if (OY_BLOCK_HASH!==null&&OY_WALLET_PUBLIC!==null) document.getElementById("oy_akoya_balance_inner").innerHTML = (typeof(OY_BLOCK[2][OY_WALLET_PUBLIC])==="undefined")?"0.0000":(OY_BLOCK[2][OY_WALLET_PUBLIC]/OY_AKOYA_DECIMALS).toFixed(4);
        else document.getElementById("oy_akoya_balance_inner").innerHTML = "------";
    }

    function oy_akoya_wallet_open() {
        oy_wallet_open();
    }

    function oy_akoya_reset_send_click() {
        document.getElementById("oy_wallet_akoya_send").value = "";
        document.getElementById("oy_wallet_akoya_send").style.color = "#000000";
    }

    function oy_akoya_reset_send_change(oy_value) {
        document.getElementById("oy_send_avatar_cont").innerHTML = "";
        if (oy_value.length===0) document.getElementById("oy_send_avatar_cont").style.backgroundColor = "#2a2a2a";
        else oy_avatar_gen(oy_value, document.getElementById("oy_send_avatar_cont"));
        oy_akoya_update();
    }

    function oy_akoya_reset_send_blur(oy_value) {
        if (oy_value.length===0) {
            document.getElementById("oy_send_avatar_cont").innerHTML = "";
            document.getElementById("oy_send_avatar_cont").style.backgroundColor = "#2a2a2a";
            document.getElementById("oy_wallet_akoya_send").style.color = "#7a7a7a";
            document.getElementById("oy_wallet_akoya_send").value = "Receiving Address";
        }
        oy_akoya_update();
    }

    function oy_akoya_reset_amount_click() {
        if (document.getElementById("oy_wallet_akoya_amount").value==="Receiving Amount") {
            document.getElementById("oy_wallet_akoya_amount").value = "";
            document.getElementById("oy_wallet_akoya_amount").style.color = "#000000";
            document.getElementById("oy_wallet_akoya_amount").style.fontSize = "1.9vh";
        }
    }

    function oy_akoya_reset_amount_change(oy_value) {
        document.getElementById("oy_amount_avatar_cont").innerHTML = "";
        if (oy_value.length>0&&(parseInt(oy_value*OY_AKOYA_DECIMALS)+"").match(/^[0-9]+$/)===null) document.getElementById("oy_wallet_akoya_amount").value = OY_AKOYA_AMOUNT_PREV;
        else OY_AKOYA_AMOUNT_PREV = oy_value;
        if (oy_value.length===0) document.getElementById("oy_amount_avatar_cont").style.backgroundColor = "#2a2a2a";
        else if (typeof(OY_BLOCK[2][OY_WALLET_PUBLIC])!=="undefined"&&parseInt(document.getElementById("oy_wallet_akoya_amount").value)*OY_AKOYA_DECIMALS<=OY_BLOCK[2][OY_WALLET_PUBLIC]) {
            document.getElementById("oy_amount_avatar_cont").style.backgroundColor = "#00C800";
        }
        else document.getElementById("oy_amount_avatar_cont").style.backgroundColor = "#c37b2c";
        oy_akoya_update();
    }

    function oy_akoya_reset_amount_blur(oy_value) {
        if (oy_value.length===0) {
            document.getElementById("oy_amount_avatar_cont").innerHTML = "";
            document.getElementById("oy_amount_avatar_cont").style.backgroundColor = "#2a2a2a";
            document.getElementById("oy_wallet_akoya_amount").style.fontSize = "1.2vh";
            document.getElementById("oy_wallet_akoya_amount").style.color = "#7a7a7a";
            document.getElementById("oy_wallet_akoya_amount").value = "Receiving Amount";
        }
        oy_akoya_update();
    }

    function oy_akoya_reset() {
        if (document.getElementById("oy_akoya_reset_button").classList.contains("oy_button_all_dull")) return false;

        oy_akoya_reset_send_blur("");
        oy_akoya_reset_amount_blur("");
        oy_akoya_update();
        document.getElementById("oy_akoya_reset_button").classList.remove("oy_button_reset_active");
        document.getElementById("oy_akoya_reset_button").classList.add("oy_button_all_dull");
    }

    function oy_akoya_execute() {
        if (OY_WALLET_PRIVATE===null||OY_WALLET_PUBLIC===null||document.getElementById("oy_akoya_execute_button").classList.contains("oy_button_all_dull")) return false;

        oy_akoya_transfer(OY_WALLET_PRIVATE, OY_WALLET_PUBLIC, document.getElementById("oy_wallet_akoya_amount").value, document.getElementById("oy_wallet_akoya_send").value, function(oy_command_confirm) {
            if (oy_command_confirm===true) oy_graph_akoya_set("#00C800");
            else oy_graph_akoya_set("#c37b2c");
        });
        oy_graph_akoya_set();
        oy_akoya_reset();
    }

    function oy_akoya_update() {
        if ((document.getElementById("oy_wallet_akoya_send").value!=="Receiving Address"&&document.getElementById("oy_wallet_akoya_send").value.length>0)||(document.getElementById("oy_wallet_akoya_amount").value!=="Receiving Amount"&&document.getElementById("oy_wallet_akoya_amount").value.length>0)) {
            document.getElementById("oy_akoya_reset_button").classList.remove("oy_button_all_dull");
            document.getElementById("oy_akoya_reset_button").classList.add("oy_button_reset_active");
        }
        else {
            document.getElementById("oy_akoya_reset_button").classList.remove("oy_button_reset_active");
            document.getElementById("oy_akoya_reset_button").classList.add("oy_button_all_dull");
        }
        if (oy_key_check(document.getElementById("oy_wallet_akoya_send").value)&&(typeof(OY_BLOCK[2][OY_WALLET_PUBLIC])!=="undefined"&&parseInt(document.getElementById("oy_wallet_akoya_amount").value)*OY_AKOYA_DECIMALS<=OY_BLOCK[2][OY_WALLET_PUBLIC])&&document.getElementById("oy_wallet_akoya_send").value!=="Receiving Address"&&document.getElementById("oy_wallet_akoya_send").value.length>0&&document.getElementById("oy_wallet_akoya_amount").value!=="Receiving Amount"&&document.getElementById("oy_wallet_akoya_amount").value.length>0) {
            document.getElementById("oy_akoya_execute_button").classList.remove("oy_button_all_dull");
            document.getElementById("oy_akoya_execute_button").classList.add("oy_button_execute_active");
        }
        else {
            document.getElementById("oy_akoya_execute_button").classList.remove("oy_button_execute_active");
            document.getElementById("oy_akoya_execute_button").classList.add("oy_button_all_dull");
        }
        oy_akoya_balance();
    }

    function oy_wallet_gen() {
        document.getElementById("oy_wallet_gen_pass").style.display = "block";

        document.getElementById("oy_wallet_gen_pass_0").focus();

        document.getElementById("oy_wallet_reset").classList.remove("oy_button_all_dull");
        document.getElementById("oy_wallet_reset").classList.add("oy_button_reset_active");

        document.getElementById("oy_wallet_upload_button").classList.remove("oy_button_execute_active");
        document.getElementById("oy_wallet_upload_button").classList.add("oy_button_all_dull");
    }

    function oy_wallet_gen_pass(oy_select) {
        if (oy_select===0) {
            document.getElementById("oy_wallet_gen_pass_1").value = "";
            if (document.getElementById("oy_wallet_gen_pass_0").value.length>4) {
                document.getElementById("oy_wallet_gen_pass_0").classList.remove("oy_wallet_gen_pass_before");
                document.getElementById("oy_wallet_gen_pass_0").classList.add("oy_wallet_gen_pass_after");
                document.getElementById("oy_wallet_gen_pass_1").disabled = false;
            }
            else {
                document.getElementById("oy_wallet_gen_pass_0").classList.remove("oy_wallet_gen_pass_after");
                document.getElementById("oy_wallet_gen_pass_0").classList.add("oy_wallet_gen_pass_before");
                document.getElementById("oy_wallet_gen_pass_1").disabled = true;
            }
        }
        else if (oy_select===1) {
            if (document.getElementById("oy_wallet_gen_pass_0").value===document.getElementById("oy_wallet_gen_pass_1").value) {
                document.getElementById("oy_wallet_gen_pass_0").disabled = true;
                document.getElementById("oy_wallet_gen_pass_1").disabled = true;

                document.getElementById("oy_wallet_gen_pass_0").classList.remove("oy_wallet_gen_pass_after");
                document.getElementById("oy_wallet_gen_pass_0").classList.add("oy_wallet_gen_pass_complete");

                document.getElementById("oy_wallet_gen_pass_1").classList.remove("oy_wallet_gen_pass_before");
                document.getElementById("oy_wallet_gen_pass_1").classList.add("oy_wallet_gen_pass_complete");

                document.getElementById("oy_wallet_gen_download_button").classList.remove("oy_button_all_dull");
                document.getElementById("oy_wallet_gen_download_button").classList.add("oy_button_halt_active");

                document.getElementById("oy_wallet_change_button").classList.remove("oy_button_all_dull");
                document.getElementById("oy_wallet_change_button").classList.add("oy_button_halt_active");

                oy_wallet_gen_calc();
            }
        }
    }

    function oy_wallet_gen_calc() {
        if (document.getElementById("oy_wallet_change_button").classList.contains("oy_button_all_dull")) return false;

        let oy_key_pair = oy_key_gen();
        OY_WALLET_CRYPT = oy_crypt_encrypt(oy_key_pair[0], document.getElementById("oy_wallet_gen_pass_0").value);
        oy_wallet_activate(oy_key_pair[1]);
    }

    function oy_wallet_activate(oy_key_public) {
        document.getElementById("oy_key_public").innerHTML = oy_key_public;
        let oy_avatar_obj = document.getElementById("oy_avatar_cont");
        oy_avatar_obj.innerHTML = "";
        oy_avatar_gen(oy_key_public, oy_avatar_obj);
    }

    function oy_wallet_load() {
        if (document.getElementById("oy_wallet_load").classList.contains("oy_button_all_dull")) return false;

        let oy_key_private;
        if (document.getElementById("oy_wallet_gen_button").classList.contains("oy_button_all_dull")) oy_key_private = oy_crypt_decrypt(OY_WALLET_CRYPT, document.getElementById("oy_wallet_upload_pass_0").value);
        else oy_key_private = oy_crypt_decrypt(OY_WALLET_CRYPT, document.getElementById("oy_wallet_gen_pass_0").value);
        let oy_key_public = oy_key_gen(oy_key_private)[1];

        let oy_data = oy_rand_gen();
        if (oy_key_verify(oy_key_public, oy_key_sign(oy_key_private, oy_data), oy_data)) {
            OY_WALLET_PRIVATE = oy_key_private;
            OY_WALLET_PUBLIC = oy_key_public;
            OY_BLOCK_DIVE_REWARD = oy_key_public;
            oy_wallet_close();
        }
        else oy_wallet_reset(true);
    }

    function oy_wallet_open(oy_callback) {
        if (typeof(oy_callback)==="function") OY_WALLET_CALLBACK = oy_callback;

        oy_cover_on("OY_THREAD_WALLET");

        if (OY_WALLET_PUBLIC!==null) oy_wallet_activate(OY_WALLET_PUBLIC);

        document.getElementById("oy_key_interface_cont").style.display = "block";
        document.addEventListener('oy_key_enter', oy_wallet_load, false);
    }

    function oy_wallet_close() {
        oy_cover_off("OY_THREAD_WALLET");
        document.getElementById("oy_key_interface_cont").style.display = "none";

        oy_akoya_load();
        document.dispatchEvent(OY_WALLET_CLOSE);
        if (OY_WALLET_CALLBACK!==null) OY_WALLET_CALLBACK();
        OY_WALLET_CALLBACK = null;
        document.removeEventListener('oy_key_enter', oy_wallet_load, false);
    }

    function oy_wallet_unlock(oy_pass) {
        try {
            let oy_key_private = oy_crypt_decrypt(OY_WALLET_CRYPT, oy_pass);
            let oy_key_public = oy_key_gen(oy_key_private)[1];
            let oy_data = oy_rand_gen();
            if (oy_key_private.length>0&&oy_key_verify(oy_key_public, oy_key_sign(oy_key_private, oy_data), oy_data)) {
                document.getElementById("oy_wallet_upload_pass_0").blur();
                document.getElementById("oy_wallet_upload_pass_0").disabled = true;

                document.getElementById("oy_wallet_upload_pass_0").classList.remove("oy_wallet_upload_pass_before");
                document.getElementById("oy_wallet_upload_pass_0").classList.add("oy_wallet_upload_pass_complete");

                document.getElementById("oy_wallet_load").classList.remove("oy_button_all_dull");
                document.getElementById("oy_wallet_load").classList.add("oy_button_go_active");

                oy_wallet_activate(oy_key_public);
            }
        }
        catch(e) {}
    }

    function oy_wallet_read(oy_file_object) {
        oy_file_read(oy_file_object, function(oy_file_data) {
            let oy_select = JSON.parse(oy_file_data);
            if (oy_select[0].slice(-6)===".akoya"||oy_select[0].slice(-6)===".pearl") {//TODO remove .pearl eventually
                OY_WALLET_CRYPT = oy_select[2];
                document.getElementById("oy_wallet_upload_pass").style.display = "block";
                document.getElementById("oy_wallet_upload_pass_0").focus();

                document.getElementById("oy_wallet_reset").classList.remove("oy_button_all_dull");
                document.getElementById("oy_wallet_reset").classList.add("oy_button_reset_active");

                document.getElementById("oy_wallet_gen_button").classList.remove("oy_button_execute_active");
                document.getElementById("oy_wallet_gen_button").classList.add("oy_button_all_dull");
            }
        });
    }

    function oy_wallet_upload() {
        if (document.getElementById("oy_wallet_upload_button").classList.contains("oy_button_all_dull")) return false;

        document.getElementById("oy_file_pearl").click();
    }

    function oy_wallet_download() {
        if (document.getElementById("oy_wallet_gen_download_button").classList.contains("oy_button_all_dull")) return false;

        document.getElementById("oy_wallet_gen_download_button").classList.remove("oy_button_halt_active");
        document.getElementById("oy_wallet_gen_download_button").classList.add("oy_button_all_dull");

        document.getElementById("oy_wallet_change_button").classList.remove("oy_button_halt_active");
        document.getElementById("oy_wallet_change_button").classList.add("oy_button_all_dull");

        document.getElementById("oy_wallet_load").classList.remove("oy_button_all_dull");
        document.getElementById("oy_wallet_load").classList.add("oy_button_go_active");

        var blobUrl = URL.createObjectURL(b64toBlob(window.btoa(OY_WALLET_CRYPT), "text/plain"));
        var a = document.createElement("a");
        document.body.appendChild(a);
        a.style = "display: none";
        a.href = blobUrl;
        a.download = "oyster_"+oy_short(document.getElementById("oy_key_public").innerHTML)+".akoya";
        a.click();
        window.URL.revokeObjectURL(blobUrl);
    }

    function oy_wallet_reset(oy_force) {
        if (typeof(oy_force)==="undefined"&&document.getElementById("oy_wallet_reset").classList.contains("oy_button_all_dull")) return false;

        OY_WALLET_PRIVATE = null;
        OY_WALLET_PUBLIC = null;
        OY_BLOCK_DIVE_REWARD = "OY_NULL";

        document.getElementById("oy_wallet_load").classList.remove("oy_button_go_active");
        document.getElementById("oy_wallet_load").classList.add("oy_button_all_dull");

        document.getElementById("oy_wallet_reset").classList.remove("oy_button_reset_active");
        document.getElementById("oy_wallet_reset").classList.add("oy_button_all_dull");

        document.getElementById("oy_wallet_gen_pass").style.display = "none";

        document.getElementById("oy_wallet_gen_pass_0").disabled = false;
        document.getElementById("oy_wallet_gen_pass_1").disabled = false;

        document.getElementById("oy_wallet_gen_pass_0").value = "";
        document.getElementById("oy_wallet_gen_pass_1").value = "";

        document.getElementById("oy_wallet_gen_pass_0").classList.remove("oy_wallet_gen_pass_after");
        document.getElementById("oy_wallet_gen_pass_0").classList.remove("oy_wallet_gen_pass_complete");
        document.getElementById("oy_wallet_gen_pass_0").classList.add("oy_wallet_gen_pass_before");

        document.getElementById("oy_wallet_gen_pass_1").classList.remove("oy_wallet_gen_pass_after");
        document.getElementById("oy_wallet_gen_pass_1").classList.remove("oy_wallet_gen_pass_complete");
        document.getElementById("oy_wallet_gen_pass_1").classList.add("oy_wallet_gen_pass_before");

        document.getElementById("oy_wallet_gen_download_button").classList.remove("oy_button_halt_active");
        document.getElementById("oy_wallet_gen_download_button").classList.add("oy_button_all_dull");

        document.getElementById("oy_wallet_change_button").classList.remove("oy_button_halt_active");
        document.getElementById("oy_wallet_change_button").classList.add("oy_button_all_dull");

        document.getElementById("oy_wallet_gen_button").classList.remove("oy_button_all_dull");
        document.getElementById("oy_wallet_gen_button").classList.add("oy_button_execute_active");

        document.getElementById("oy_wallet_upload_button").classList.remove("oy_button_all_dull");
        document.getElementById("oy_wallet_upload_button").classList.add("oy_button_execute_active");

        document.getElementById("oy_wallet_upload_pass_0").classList.remove("oy_wallet_upload_pass_complete");
        document.getElementById("oy_wallet_upload_pass_0").classList.add("oy_wallet_upload_pass_before");

        document.getElementById("oy_wallet_upload_pass_0").value = "";
        document.getElementById("oy_wallet_upload_pass_0").disabled = false;

        document.getElementById("oy_wallet_upload_pass").style.display = "none";

        document.getElementById("oy_file_pearl").value = null;

        document.getElementById("oy_key_public").innerHTML = "";
        document.getElementById("oy_avatar_cont").style.backgroundColor = "#2a2a2a";
        document.getElementById("oy_avatar_cont").innerHTML = "";
    }

    function oy_avatar_gen(oy_key_public, oy_object) {
        if (oy_key_public===OY_KEY_BRUNO) {
            let oy_element = document.createElement("img");
            oy_element.src = "https://oyster.org/oy_resources/oy_logo_bruno.png?2";
            oy_element.style.position = "absolute";
            oy_element.style.top = "0";
            oy_element.style.left = "0";
            oy_element.style.width = "100%";
            oy_element.style.height = "100%";
            oy_object.appendChild(oy_element);
        }
        else {
            const canvas = createIcon({
                seed:oy_key_public,
                size: 10,
                scale: 8
            });
            oy_object.appendChild(canvas);
        }
        oy_object.style.backgroundColor = "transparent";
    }

    function oy_dapper_launch() {
        if (document.getElementById("oy_dapper_launch").classList.contains("oy_button_all_dull")||document.getElementById("oy_interface_dapper").style.display==="none"||OY_COVER===true) return false;

        let oy_dapper_murl = document.getElementById("oy_dapper_input").value;
        if (oy_dapper_murl.indexOf(".mesh")===-1) return false;
        location.hash = oy_dapper_murl;

        if (oy_dapper_murl==="oystertalk.mesh") {
            ot_init();
            document.getElementById("oy_dapper_input").disabled = true;
            document.getElementById("oy_dapper").style.display = "block";

            oy_cover_on("OY_THREAD_DAPPER");

            document.getElementById("oy_dapper_launch").classList.remove("oy_button_execute_active");
            document.getElementById("oy_dapper_launch").classList.add("oy_button_all_dull");
        }
    }

    function oy_dapper_input() {
        if (document.getElementById("oy_dapper_input").value.indexOf(".mesh")===-1) {
            document.getElementById("oy_dapper_launch").classList.remove("oy_button_execute_active");
            document.getElementById("oy_dapper_launch").classList.add("oy_button_all_dull");
        }
        else {
            document.getElementById("oy_dapper_launch").classList.remove("oy_button_all_dull");
            document.getElementById("oy_dapper_launch").classList.add("oy_button_execute_active");
        }
    }

    function oy_dapper_toggle(oy_force_reset) {
        if (OY_DAPPER_MINIMIZED===true||typeof(oy_force_reset)!=="undefined") {
            OY_DAPPER_MINIMIZED = false;
            document.getElementById("oy_dapper_content").style.display = "block";
            document.getElementById("oy_dapper").style.height = "96%";
            document.getElementById("oy_dapper").style.top = "50%";
            document.getElementById("oy_dapper").style.backgroundColor = "#000000";
            document.getElementById("oy_dapper").style.border = "0.2vh solid #141414";
            document.getElementById("oy_dapper_control").style.backgroundColor = "#606060";
            document.getElementById("ot_toggle_inner").innerHTML = "&nbsp;&nbsp;MINIMIZE&nbsp;&nbsp;";

            oy_cover_on("OY_THREAD_DAPPER");

            //TODO there should be nothing ot in this oy section once the container system is setup properly
            document.getElementById("ot_render_cont").scrollTo(0, document.getElementById("ot_render_cont").scrollHeight);
        }
        else {
            OY_DAPPER_MINIMIZED = true;
            document.getElementById("oy_dapper_content").style.display = "none";
            document.getElementById("oy_dapper").style.height = "0";
            document.getElementById("oy_dapper").style.top = "calc(100% - 3vh)";
            document.getElementById("oy_dapper").style.backgroundColor = null;
            document.getElementById("oy_dapper").style.border = null;
            document.getElementById("oy_dapper_control").style.backgroundColor = "#3b3b3b";
            document.getElementById("ot_toggle_inner").innerHTML = "&nbsp;&nbsp;RESTORE&nbsp;&nbsp;";

            oy_cover_off("OY_THREAD_DAPPER");
        }
    }

    function oy_dapper_close() {
        oy_dapper_toggle(true);

        if (typeof(OY_COVER_THREAD["OY_THREAD_DAPPER"])!=="undefined") document.getElementById("oy_dapper").style.display = "none";

        oy_cover_off("OY_THREAD_DAPPER");

        document.getElementById("oy_dapper_input").disabled = false;
        oy_dapper_input();
        location.hash = "";
    }

    function oy_top_render() {
        if (OY_LOW_POWER===true||OY_LIGHT_STATE===true) return false;

        OY_MAP_NODES[OY_SELF_SHORT] = true;
        document.getElementById("oy_top_inner").innerHTML = "";
        setTimeout(function() {
            oy_top_init();
            if (Object.keys(OY_MAP_NODES).length===1) OY_TOP_NODES.push({id:OY_SELF_SHORT, x: (Math.random()*OY_TOP_WIDTH)|0, y: (Math.random()*OY_TOP_HEIGHT)|0});
            else OY_TOP_NODES.push({id:OY_SELF_SHORT, x: OY_TOP_WIDTH/2|0, y: OY_TOP_HEIGHT/2|0});
            oy_top_restart(true);
            for (let oy_node_short in OY_MAP_NODES) {
                if (oy_node_short===OY_SELF_SHORT) continue;
                OY_TOP_NODES.push({id:oy_node_short, x: (OY_TOP_WIDTH/3)+(Math.random()*(OY_TOP_WIDTH/3))|0, y: (OY_TOP_HEIGHT/3)+(Math.random()*(OY_TOP_HEIGHT/3))|0});
            }
            for (let oy_link_lead in OY_MAP_LINKS) {
                for (let i in OY_MAP_LINKS[oy_link_lead]) {
                    let oy_node_collect = [];
                    OY_TOP_NODES.forEach(function(target) {
                        if (target.id===oy_link_lead||target.id===OY_MAP_LINKS[oy_link_lead][i]) oy_node_collect.push(target);
                    });
                    if (oy_node_collect.length===2) OY_TOP_LINKS.push({source: oy_node_collect[0], target: oy_node_collect[1]});
                }
            }
            oy_top_restart(false);
            OY_MAP_NODES_RESERVE = OY_MAP_NODES;
            OY_MAP_LINKS_RESERVE = OY_MAP_LINKS;
            OY_MAP_NODES = {};
            OY_MAP_LINKS = {};
        }, 100);
    }

    function oy_top_render_reset() {
        OY_MAP_NODES = {};
        OY_MAP_LINKS = {};
        OY_MAP_NODES_RESERVE = {};
        OY_MAP_LINKS_RESERVE = {};

        oy_top_render();
    }

    function oy_top_init() {
        if (window.innerHeight < window.innerWidth) {
            OY_TOP_WIDTH = screen.height/1.5;
            OY_TOP_HEIGHT = screen.width/1.5;
        }
        else {
            OY_TOP_WIDTH = screen.width/1.5;
            OY_TOP_HEIGHT = screen.height/1.5;
        }

        OY_TOP_FORCE = d3.layout.force()
            .size([OY_TOP_WIDTH, OY_TOP_HEIGHT])
            .nodes([])
            .gravity(0.15)
            .linkDistance(5)
            .linkStrength(0.5)
            .charge(-90)
            .on("tick", oy_top_tick);

        let oy_svg = d3.select("#oy_top_inner").append("svg")
            .attr("width", OY_TOP_WIDTH)
            .attr("height", OY_TOP_HEIGHT);

        oy_svg.append("rect")
            .attr("width", OY_TOP_WIDTH)
            .attr("height", OY_TOP_HEIGHT);

        OY_TOP_NODES = OY_TOP_FORCE.nodes();
        OY_TOP_LINKS = OY_TOP_FORCE.links();
        OY_TOP_NODE = oy_svg.selectAll(".node");
        OY_TOP_LINK = oy_svg.selectAll(".link");

        oy_top_restart();
    }

    function oy_top_tick() {
        OY_TOP_LINK.attr("x1", function(d) { return d.source.x; })
            .attr("y1", function(d) { return d.source.y; })
            .attr("x2", function(d) { return d.target.x; })
            .attr("y2", function(d) { return d.target.y; });

        OY_TOP_NODE.attr("cx", function(d) { return d.x; })
            .attr("cy", function(d) { return d.y; });
    }

    function oy_top_restart(oy_self) {
        OY_TOP_NODE = OY_TOP_NODE.data(OY_TOP_NODES);

        if (oy_self===true) {
            OY_TOP_NODE.enter().insert("circle")
                .attr("class", "node")
                .attr("r", 3)
                .style("fill", "#24ab26");
        }
        else {
            OY_TOP_NODE.enter().insert("circle")
                .attr("class", "node")
                .attr("r", 2.8)
                .style("fill", "#348fab");
        }

        OY_TOP_NODE.exit()
            .remove();

        OY_TOP_LINK = OY_TOP_LINK.data(OY_TOP_LINKS);

        OY_TOP_LINK.enter().insert("line", ".node")
            .attr("class", "link");
        OY_TOP_LINK.exit()
            .remove();

        OY_TOP_FORCE.start();
    }

    function oy_element_add(oy_parent_id, oy_element_tag, oy_element_id, oy_element_html) {
        let oy_element = document.createElement(oy_element_tag);
        oy_element.setAttribute('id', oy_element_id);
        oy_element.innerHTML = oy_element_html;
        document.getElementById(oy_parent_id).appendChild(oy_element);
    }

    function oy_element_remove(oy_element_id) {
        let oy_element = document.getElementById(oy_element_id);
        oy_element.parentNode.removeChild(oy_element);
    }

    function oy_graph_akoya_set(oy_custom) {
        if (typeof(oy_custom)!=="undefined") {
            document.getElementById("oy_graph_akoya_progress_inner").style.transition = null;
            document.getElementById("oy_graph_akoya_progress_inner").style.width = "100%";
            document.getElementById("oy_graph_akoya_progress_inner").style.backgroundColor = oy_custom;
            setTimeout(function() {
                document.getElementById("oy_graph_akoya_progress").style.display = "none";
                document.getElementById("oy_graph_akoya_progress_inner").style.backgroundColor = "transparent";
            }, 4000);
        }
        else {
            document.getElementById("oy_graph_akoya_progress_inner").style.backgroundColor = "#46C9F4";
            document.getElementById("oy_graph_akoya_progress_inner").style.transition = null;
            document.getElementById("oy_graph_akoya_progress_inner").style.width = "0";
            document.getElementById("oy_graph_akoya_progress_inner").style.transition = "width "+((OY_BLOCK_NEXT-Date.now()/1000)+20).toFixed(3)+"s linear";
            setTimeout(function() {
                document.getElementById("oy_graph_akoya_progress_inner").style.width = "100%";
            }, 100);
        }
        document.getElementById("oy_graph_akoya_progress").style.display = "block";
    }

    function oy_graph_nonce_set(oy_nonce_max) {
        if (oy_nonce_max===null) {
            let oy_parent = document.getElementById("oy_graph_nonce");
            while (oy_parent.firstChild) oy_parent.removeChild(oy_parent.firstChild);
            return true;
        }
        let oy_nonce_counter = 0;
        let oy_nonce_buffer = 0.2;
        let oy_nonce_left = 0;
        let oy_nonce_width = 100/oy_nonce_max;
        while (oy_nonce_counter<oy_nonce_max) {
            oy_element_add("oy_graph_nonce", "div", "oy_graph_nonce_"+oy_nonce_counter, "");
            let oy_nonce_local = document.getElementById("oy_graph_nonce_"+oy_nonce_counter);
            oy_nonce_local.style.position = "absolute";
            oy_nonce_local.style.top = "-5%";
            oy_nonce_local.style.left = oy_nonce_left+"%";
            oy_nonce_local.style.height = "110%";
            oy_nonce_local.style.width = (oy_nonce_width+oy_nonce_buffer)+"%";
            oy_nonce_local.style.zIndex = ""+oy_nonce_counter;
            oy_nonce_local.style.transition = "all .6s ease-out";
            oy_nonce_left += oy_nonce_width;
            oy_nonce_counter++;
            setTimeout(function() {
                oy_nonce_local.style.backgroundColor = "#828282";
            }, 1);
        }
    }

    function oy_graph_nonce_colour(oy_tally_count) {
        let oy_brightness = 200;
        let oy_intensity = 30;
        let oy_green = 10;
        let oy_blue = oy_brightness;

        oy_green += oy_tally_count*oy_intensity;

        if (oy_green>oy_brightness) {
            oy_blue -= oy_green-oy_brightness;
            oy_green = oy_brightness;
        }
        if (oy_blue<0) oy_blue = 0;

        return [0, oy_green, oy_blue];
    }

    function oy_graph_nonce_fill(oy_nonce, oy_colour) {
        if (oy_nonce===true) {
            let oy_children = document.getElementById("oy_graph_nonce").children;
            for (let i = 0; i < oy_children.length; i++) {
                let oy_graph_nonce_sub = oy_children[i];
                oy_graph_nonce_sub.style.backgroundColor = "rgb(+"+oy_colour[0]+", "+oy_colour[1]+", "+oy_colour[2]+")";
            }
            return true;
        }
        if (!document.getElementById("oy_graph_nonce_"+oy_nonce)) return false;
        if (oy_colour===null) document.getElementById("oy_graph_nonce_"+oy_nonce).style.backgroundColor = "#828282";
        else document.getElementById("oy_graph_nonce_"+oy_nonce).style.backgroundColor = "rgb(+"+oy_colour[0]+", "+oy_colour[1]+", "+oy_colour[2]+")";
        return true;
    }

    function oy_graph_peer(oy_graph_slot, oy_peer_short, oy_peer_info, oy_beam_ratio) {
        if (OY_GRAPH_PEERS[oy_graph_slot]===false&&oy_peer_short!==null) {
            OY_GRAPH_PEERS[oy_graph_slot] = oy_peer_short;
            oy_element_add("oy_graph_slot_"+oy_graph_slot, "div", "oy_graph_slot_"+oy_graph_slot+"_base", "<div id='oy_graph_slot_"+oy_graph_slot+"_front' style='transition: all .3s ease-out;z-index:300;'><div id='oy_graph_slot_"+oy_graph_slot+"_name'>"+oy_peer_short+oy_peer_info+"</div></div><div id='oy_graph_slot_"+oy_graph_slot+"_beam' style='transition: all .3s ease-out;z-index:200;'></div><div id='oy_graph_slot_"+oy_graph_slot+"_soak' style='z-index:100;'></div>");
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_name").classList.add("oy_center_both");
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_front").classList.add("oy_peer_sub");
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_base").classList.add("oy_peer_sub");
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_soak").classList.add("oy_peer_soak");
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_beam").classList.add("oy_peer_beam");
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_beam").style.width = oy_beam_ratio+"%";
            document.getElementById("oy_graph_slot_"+oy_graph_slot+"_front").style.backgroundColor = "#348fab";
            setTimeout(function() {
                document.getElementById("oy_graph_slot_"+oy_graph_slot+"_front").style.backgroundColor = "transparent";
            }, 220);
        }
        else if (OY_GRAPH_PEERS[oy_graph_slot]!==false) {
            if (oy_peer_short===null) {
                OY_GRAPH_PEERS[oy_graph_slot] = false;
                document.getElementById("oy_graph_slot_"+oy_graph_slot+"_front").style.backgroundColor = "#c37b2c";
                setTimeout(function() {
                    oy_element_remove("oy_graph_slot_"+oy_graph_slot+"_base");
                }, 220);
            }
            else {
                OY_GRAPH_PEERS[oy_graph_slot] = oy_peer_short;
                document.getElementById("oy_graph_slot_"+oy_graph_slot+"_name").innerHTML = oy_peer_short+oy_peer_info;
                document.getElementById("oy_graph_slot_"+oy_graph_slot+"_beam").style.width = oy_beam_ratio+"%";
            }
        }
    }

    function b64toBlob(b64Data, contentType, sliceSize) {
        contentType = contentType || '';
        sliceSize = sliceSize || 512;

        var byteCharacters = atob(b64Data);
        var byteArrays = [];

        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);

            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }

            var byteArray = new Uint8Array(byteNumbers);

            byteArrays.push(byteArray);
        }

        return new Blob(byteArrays, {type: contentType});
    }

    function oy_file_read(oy_file_object, oy_callback) {
        let file = oy_file_object.target.files[0];
        if (!file) return false;
        let reader = new FileReader();
        reader.onload = function(oy_file_object) {
            oy_callback(JSON.stringify([file.name, file.type, oy_file_object.target.result]));
        };
        reader.readAsBinaryString(file);
    }

    function oy_file_change(oy_file_object) {
        oy_file_read(oy_file_object, function(oy_file_data) {
            OY_FILE_DATA = null;
            oy_push_reset();
            OY_FILE_DATA = oy_file_data;

            document.getElementById("oy_push_reset").classList.remove("oy_button_all_dull");
            document.getElementById("oy_push_reset").classList.add("oy_button_reset_active");

            if (OY_EXECUTE_PULL===false&&OY_EXECUTE_RECOMMIT===false) {
                document.getElementById("oy_push_execute").classList.remove("oy_button_all_dull");
                document.getElementById("oy_push_execute").classList.add("oy_button_execute_active");
            }
        });
    }

    function oy_file_view_check(oy_type) {
        if ((oy_type==="oy_image"||oy_type===true)&&(OY_FILE_KEEP[1]==="image/png"||OY_FILE_KEEP[1]==="image/jpg")) return true;
        else if ((oy_type==="oy_audio"||oy_type===true)&&(OY_FILE_KEEP[1]==="audio/mpeg"||OY_FILE_KEEP[1]==="audio/wav"||OY_FILE_KEEP[1]==="audio/ogg"||OY_FILE_KEEP[1]==="audio/x-m4a")) return true;
        else if ((oy_type==="oy_video"||oy_type===true)&&(OY_FILE_KEEP[1]==="video/mp4"||OY_FILE_KEEP[1]==="video/webm"||OY_FILE_KEEP[1]==="video/ogg")) return true;
        else if ((oy_type==="oy_document"||oy_type===true)&&(OY_FILE_KEEP[1]==="application/pdf")) return true;
        return false;
    }

    function oy_file_view() {
        if (OY_FILE_KEEP===null) return false;

        if (oy_file_view_check("oy_image")) {
            document.getElementById("oy_file_view_data").innerHTML = "<img style=\"width:auto;height:auto;max-height:85vh;max-width:85vw;\" src=\"data:"+OY_FILE_KEEP[1]+";base64,"+OY_FILE_KEEP[2]+"\">";
            document.getElementById("oy_file_view_cont").style.display = "block";
            oy_cover_on("OY_THREAD_FILE");
            return true;
        }
        else if (oy_file_view_check("oy_audio")) {
            document.getElementById("oy_file_view_data").innerHTML = "<audio controls src=\"data:"+OY_FILE_KEEP[1]+";base64,"+OY_FILE_KEEP[2]+"\">";
            document.getElementById("oy_file_view_cont").style.display = "block";
            oy_cover_on("OY_THREAD_FILE");
            return true;
        }
        else if (oy_file_view_check("oy_video")) {
            document.getElementById("oy_file_view_data").innerHTML = "<video controls src=\"data:"+OY_FILE_KEEP[1]+";base64,"+OY_FILE_KEEP[2]+"\">";
            document.getElementById("oy_file_view_cont").style.display = "block";
            oy_cover_on("OY_THREAD_FILE");
            return true;
        }
        else if (oy_file_view_check("oy_document")) {
            document.getElementById("oy_file_view_data").innerHTML = "<embed style=\"height:85vh;width:75vw;\" src=\"data:"+OY_FILE_KEEP[1]+";base64,"+OY_FILE_KEEP[2]+"\">";
            document.getElementById("oy_file_view_cont").style.display = "block";
            oy_cover_on("OY_THREAD_FILE");
            return true;
        }
        return false;
    }

    function oy_file_view_close() {
        document.getElementById("oy_file_view_cont").style.display = "none";
        document.getElementById("oy_file_view_data").innerHTML = "";

        oy_cover_off("OY_THREAD_FILE");
    }

    function oy_file_download() {
        if (OY_FILE_KEEP===null) return false;
        var blobUrl = URL.createObjectURL(b64toBlob(OY_FILE_KEEP[2], OY_FILE_KEEP[1]));
        var a = document.createElement("a");
        document.body.appendChild(a);
        a.style = "display: none";
        a.href = blobUrl;
        a.download = OY_FILE_KEEP[0];
        a.click();
        window.URL.revokeObjectURL(blobUrl);
    }

    function oy_push_superhandle_copy() {
        if (OY_HANDLE_PUSH!==null) {
            document.getElementById("oy_push_superhandle").select();
            document.execCommand("copy");
            document.getElementById("oy_tooltip_push").innerHTML = "Copied handle";
            OY_HANDLE_PUSH_COPY = true;
        }
    }

    function oy_push_superhandle_reset() {
        document.getElementById("oy_tooltip_push").innerHTML = "Copy to clipboard";
    }

    function oy_push_execute() {
        if (document.getElementById("oy_push_execute").classList.contains("oy_button_all_dull")) return false;
        OY_EXECUTE_PUSH = true;

        if (OY_PUSH_PAUSE===null) OY_PUSH_ELAPSED = Date.now()/1000;
        else OY_PUSH_ELAPSED += Date.now()/1000 - OY_PUSH_PAUSE;

        document.getElementById("oy_push_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_push_execute").classList.add("oy_button_all_dull");

        if (OY_HANDLE_PUSH===null) {
            document.getElementById("oy_push_execute").style.backgroundColor = "#cbba3c";
            document.getElementById("oy_push_execute").style.animation = "flash linear 0.3s infinite";
        }

        document.getElementById("oy_push_reset").classList.remove("oy_button_reset_active");
        document.getElementById("oy_push_reset").classList.add("oy_button_all_dull");

        document.getElementById("oy_file_upload").disabled = "disabled";

        document.getElementById("oy_pull_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_pull_execute").classList.add("oy_button_all_dull");

        if (OY_DEST_RADIO==="oy_dest_recommit") {
            document.getElementById("oy_dest_go").classList.remove("oy_button_go_active");
            document.getElementById("oy_dest_go").classList.add("oy_button_all_dull");
        }

        if (document.getElementById("oy_push_mesh_glue_sub").innerHTML.substr(1, 1)==="-") document.getElementById("oy_push_mesh_glue_sub").innerHTML = "G0/00%";
        setTimeout(function() {
            oy_push_execute_post();
        }, 100);
    }

    function oy_push_execute_post() {
        let oy_callback_tally = function(oy_data_nonce, oy_tally_count, oy_passport_passive_length) {
            oy_graph_nonce_fill(oy_data_nonce, oy_graph_nonce_colour(oy_tally_count));
            OY_MESH_GLUE[oy_data_nonce] = oy_tally_count;
            let oy_data_nonce_count = 0;
            let oy_glue_lowest = 9;
            for (let oy_data_nonce_sub in OY_MESH_GLUE) {
                if (OY_MESH_GLUE[oy_data_nonce_sub]<oy_glue_lowest) oy_glue_lowest = OY_MESH_GLUE[oy_data_nonce_sub];
            }
            for (let oy_data_nonce_sub in OY_MESH_GLUE) {
                if (OY_MESH_GLUE[oy_data_nonce_sub]===oy_glue_lowest) oy_data_nonce_count++;
            }
            let oy_data_nonce_percent = Math.floor(((OY_NONCE_MAX_PUSH-oy_data_nonce_count)/OY_NONCE_MAX_PUSH)*100);
            if (oy_data_nonce_percent===100) oy_data_nonce_percent = 99;
            if (oy_data_nonce_percent<10) oy_data_nonce_percent = "0"+oy_data_nonce_percent;
            document.getElementById("oy_push_mesh_glue_sub").innerHTML = "G"+oy_glue_lowest+"/"+oy_data_nonce_percent+"%";

            OY_PUSH_AVG_HOP.push(oy_passport_passive_length);
            while (OY_PUSH_AVG_HOP.length>OY_HOP_KEEP) OY_PUSH_AVG_HOP.shift();
            document.getElementById("oy_push_stats_avg_hop").innerHTML = (OY_PUSH_AVG_HOP.reduce(oy_reduce_sum)/OY_PUSH_AVG_HOP.length).toFixed(2);
        };
        if (OY_HANDLE_PUSH===null) {
            let oy_superhandle = oy_data_push(OY_FILE_DATA, oy_callback_tally, null);
            OY_FILE_DATA = "oy_null";
            document.getElementById("oy_push_superhandle").value = oy_superhandle;
            location.hash = "";
            let oy_superhandle_split = oy_superhandle.split("@");
            OY_HANDLE_PUSH = oy_superhandle_split[0].substr(0, 46);
            OY_HANDLE_PUSH_COPY = false;
            document.getElementById("oy_tooltip_push").style.display = "block";
            OY_NONCE_MAX_PUSH = parseInt(oy_superhandle_split[0].substr(46));
            oy_graph_nonce_set(OY_NONCE_MAX_PUSH);
            let oy_nonce_counter = 0;
            while (oy_nonce_counter<OY_NONCE_MAX_PUSH) {
                OY_MESH_GLUE[oy_nonce_counter] = 0;
                oy_nonce_counter++;
            }
        }
        else {
            if (OY_EXECUTE_LAST!=="OY_PUSH") document.getElementById("oy_graph_nonce").innerHTML = OY_GRAPH_NONCE_STORE["OY_PUSH"];
            OY_DATA_PUSH[OY_HANDLE_PUSH] = oy_callback_tally;
            oy_data_push(null, oy_callback_tally, OY_HANDLE_PUSH);
        }
        document.getElementById("oy_push_halt").classList.remove("oy_button_all_dull");
        document.getElementById("oy_push_halt").classList.add("oy_button_halt_active");

        document.getElementById("oy_push_execute").style.backgroundColor = null;
        document.getElementById("oy_push_execute").style.animation = null;
        OY_EXECUTE_LAST = "OY_PUSH";
    }

    function oy_push_halt() {
        if (document.getElementById("oy_push_halt").classList.contains("oy_button_all_dull")) return false;
        OY_EXECUTE_PUSH = false;

        OY_PUSH_PAUSE = Date.now()/1000;

        document.getElementById("oy_push_execute").classList.remove("oy_button_all_dull");
        document.getElementById("oy_push_execute").classList.add("oy_button_execute_active");

        document.getElementById("oy_push_halt").classList.remove("oy_button_halt_active");
        document.getElementById("oy_push_halt").classList.add("oy_button_all_dull");

        document.getElementById("oy_push_reset").classList.remove("oy_button_all_dull");
        document.getElementById("oy_push_reset").classList.add("oy_button_reset_active");

        if (document.getElementById("oy_pull_superhandle").value.length>=80&&document.getElementById("oy_pull_superhandle").value.substr(0, 1)!=="-") {
            document.getElementById("oy_pull_execute").classList.remove("oy_button_all_dull");
            document.getElementById("oy_pull_execute").classList.add("oy_button_execute_active");
        }

        document.getElementById("oy_file_upload").disabled = null;

        OY_DATA_PUSH[OY_HANDLE_PUSH] = false;

        OY_GRAPH_NONCE_STORE["OY_PUSH"] = document.getElementById("oy_graph_nonce").innerHTML;
    }

    function oy_push_reset() {
        if (document.getElementById("oy_push_reset").classList.contains("oy_button_all_dull")) return false;

        document.getElementById("oy_push_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_push_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_push_reset").classList.remove("oy_button_reset_active");
        document.getElementById("oy_push_reset").classList.add("oy_button_all_dull");

        if (OY_HANDLE_PUSH!==null) oy_data_push_reset(OY_HANDLE_PUSH);
        if (OY_EXECUTE_PULL===false&&OY_EXECUTE_RECOMMIT===false) oy_graph_nonce_set(null);
        delete OY_GRAPH_NONCE_STORE["OY_PUSH"];
        OY_HANDLE_PUSH = null;
        OY_HANDLE_PUSH_COPY = null;
        OY_NONCE_MAX_PUSH = null;
        OY_FILE_DATA = null;
        OY_PUSH_PAUSE = null;
        OY_MESH_GLUE = [];
        document.getElementById("oy_file_upload").value = "";
        document.getElementById("oy_push_superhandle").value = "-".repeat(82);
        location.hash = "";
        document.getElementById("oy_push_mesh_glue_sub").innerHTML = "G-/--%";
        document.getElementById("oy_tooltip_push").style.display = "none";
        oy_push_reset_handle_leave();
    }

    function oy_push_reset_handle_enter() {
        if (OY_HANDLE_PUSH_COPY===false&&OY_EXECUTE_PUSH===false&&OY_FILE_DATA!==null) document.getElementById("oy_tooltip_push_warn").style.opacity = "1";
    }

    function oy_push_reset_handle_leave() {
        document.getElementById("oy_tooltip_push_warn").style.opacity = null;
    }

    function oy_dest_radio(oy_radio_select) {
        if (document.getElementById(oy_radio_select).disabled===true) return false;
        document.getElementById(oy_radio_select).checked = true;
        if (oy_radio_select==="oy_dest_recommit") {
            document.getElementById("oy_dest_view").checked = false;
            document.getElementById("oy_dest_download").checked = false;

            if (OY_FILE_KEEP!==null&&OY_EXECUTE_PUSH===false&&OY_EXECUTE_RECOMMIT===false) {
                document.getElementById("oy_dest_go").classList.remove("oy_button_all_dull");
                document.getElementById("oy_dest_go").classList.add("oy_button_go_active");
            }
            else {
                document.getElementById("oy_dest_go").classList.remove("oy_button_go_active");
                document.getElementById("oy_dest_go").classList.add("oy_button_all_dull");
            }
        }
        else if (oy_radio_select==="oy_dest_view") {
            document.getElementById("oy_dest_recommit").checked = false;
            document.getElementById("oy_dest_download").checked = false;

            if (OY_FILE_KEEP!==null&&OY_FILE_KEEP[0]!==null) {
                document.getElementById("oy_dest_go").classList.remove("oy_button_all_dull");
                document.getElementById("oy_dest_go").classList.add("oy_button_go_active");
            }
            else {
                document.getElementById("oy_dest_go").classList.remove("oy_button_go_active");
                document.getElementById("oy_dest_go").classList.add("oy_button_all_dull");
            }
        }
        else if (oy_radio_select==="oy_dest_download") {
            document.getElementById("oy_dest_recommit").checked = false;
            document.getElementById("oy_dest_view").checked = false;

            if (OY_FILE_KEEP!==null&&OY_FILE_KEEP[0]!==null) {
                document.getElementById("oy_dest_go").classList.remove("oy_button_all_dull");
                document.getElementById("oy_dest_go").classList.add("oy_button_go_active");
            }
            else {
                document.getElementById("oy_dest_go").classList.remove("oy_button_go_active");
                document.getElementById("oy_dest_go").classList.add("oy_button_all_dull");
            }
        }
        else return false;
        OY_DEST_RADIO = oy_radio_select;
        return true;
    }

    function oy_dest_radio_view_enable() {
        document.getElementById("oy_dest_view").disabled = false;
        document.getElementById("oy_dest_view_inner").style.textDecoration = null;
        return true;
    }

    function oy_dest_radio_view_disable() {
        document.getElementById("oy_dest_view").disabled = "disabled";
        document.getElementById("oy_dest_view_inner").style.textDecoration = "line-through";
        return true;
    }

    function oy_dest_radio_download_enable() {
        document.getElementById("oy_dest_download").disabled = false;
        document.getElementById("oy_dest_download_inner").style.textDecoration = null;
        return true;
    }

    function oy_dest_radio_download_disable() {
        if (OY_DEST_RADIO!=="oy_dest_recommit") oy_dest_radio("oy_dest_download");

        document.getElementById("oy_dest_download").disabled = "disabled";
        document.getElementById("oy_dest_download_inner").style.textDecoration = "line-through";
        return true;
    }

    function oy_dest_go() {
        if (document.getElementById("oy_dest_go").classList.contains("oy_button_all_dull")||OY_EXECUTE_PULL===true||OY_FILE_KEEP===null) return false;
        if (OY_DEST_RADIO==="oy_dest_view") oy_file_view();
        else if (OY_DEST_RADIO==="oy_dest_download") oy_file_download();
        else if (OY_DEST_RADIO==="oy_dest_recommit") oy_recommit_execute();
        else return false;
        return true;
    }

    function oy_pull_execute() {
        if (document.getElementById("oy_pull_execute").classList.contains("oy_button_all_dull")) return false;
        OY_EXECUTE_PULL = true;
        document.getElementById("oy_pull_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_pull_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_pull_halt").classList.remove("oy_button_all_dull");
        document.getElementById("oy_pull_halt").classList.add("oy_button_halt_active");

        document.getElementById("oy_pull_reset").classList.remove("oy_button_reset_active");
        document.getElementById("oy_pull_reset").classList.add("oy_button_all_dull");

        document.getElementById("oy_push_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_push_execute").classList.add("oy_button_all_dull");

        if (document.getElementById('oy_pull_superhandle').value.indexOf("@")===-1) {
            OY_NONCE_MAX_PULL = parseInt(document.getElementById('oy_pull_superhandle').value.substr(46));
            oy_dest_radio_view_disable();
            oy_dest_radio_download_disable();
            if (OY_DEST_RADIO!=="oy_dest_recommit") oy_dest_radio("oy_dest_recommit");
        }
        else OY_NONCE_MAX_PULL = parseInt(document.getElementById('oy_pull_superhandle').value.split("@")[0].substr(46));
        if (OY_HANDLE_PULL===null) oy_graph_nonce_set(OY_NONCE_MAX_PULL);
        else if (OY_EXECUTE_LAST!=="OY_PULL") document.getElementById("oy_graph_nonce").innerHTML = OY_GRAPH_NONCE_STORE["OY_PULL"];

        document.getElementById('oy_pull_superhandle').disabled = "disabled";
        location.hash = document.getElementById('oy_pull_superhandle').value;

        OY_HANDLE_PULL = document.getElementById('oy_pull_superhandle').value.substr(0, 46);

        if (OY_PULL_PAUSE===null) OY_PULL_ELAPSED = Date.now()/1000;
        else OY_PULL_ELAPSED += Date.now()/1000 - OY_PULL_PAUSE;

        delete OY_DATA_PULL[OY_HANDLE_PULL];
        oy_data_pull(document.getElementById('oy_pull_superhandle').value,
            function(oy_superhandle, oy_data_value, oy_data_crypt) {
                oy_tab("oy_tab_download");
                oy_pull_halt(true);
                oy_graph_nonce_fill(true, oy_graph_nonce_colour(100));
                if (oy_data_value===null) OY_FILE_KEEP = [null, null, null, true];
                else {
                    OY_FILE_KEEP = JSON.parse(oy_data_value);
                    oy_data_value = null;
                    OY_FILE_KEEP[2] = window.btoa(OY_FILE_KEEP[2]);
                }
                OY_FILE_KEEP[3] = oy_data_crypt;
                oy_data_crypt = null;

                if (OY_DEST_RADIO!=="oy_dest_recommit") {
                    document.getElementById("oy_dest_go").classList.remove("oy_button_all_dull");
                    document.getElementById("oy_dest_go").classList.add("oy_button_go_active");
                }

                if (!oy_file_view_check(true)||OY_FILE_KEEP[0]===null) {
                    oy_dest_radio_view_disable();
                    if (OY_DEST_RADIO!=="oy_dest_recommit") oy_dest_radio("oy_dest_download");
                }
                if (OY_DEST_RADIO==="oy_dest_recommit") setTimeout("oy_recommit_execute()", 500);
                else if (OY_DEST_RADIO==="oy_dest_download"||(OY_DEST_RADIO==="oy_dest_view"&&!oy_file_view())) oy_file_download();
            },
            function(oy_data_nonce, oy_collect_count, oy_data_count, oy_passport_passive_length) {
                if (oy_collect_count>0&&OY_PULL_COVERAGE.indexOf(oy_data_nonce)===-1) {
                    OY_PULL_COVERAGE.push(oy_data_nonce);
                    document.getElementById("oy_pull_stats_coverage").innerHTML = Math.floor((OY_PULL_COVERAGE.length/OY_NONCE_MAX_PULL)*100)+"%";
                }
                if (OY_EXECUTE_PULL===true&&oy_data_count>0) {
                    if (oy_data_count===1) delete OY_PULL_CONFLICTS[oy_data_nonce];
                    else OY_PULL_CONFLICTS[oy_data_nonce] = true;
                    document.getElementById("oy_pull_stats_conflicts").innerHTML = ""+Object.keys(OY_PULL_CONFLICTS).length;
                }
                OY_PULL_AVG_HOP.push(oy_passport_passive_length);
                while (OY_PULL_AVG_HOP.length>OY_HOP_KEEP) OY_PULL_AVG_HOP.shift();
                document.getElementById("oy_pull_stats_avg_hop").innerHTML = (OY_PULL_AVG_HOP.reduce(oy_reduce_sum)/OY_PULL_AVG_HOP.length).toFixed(2);
                oy_graph_nonce_fill(oy_data_nonce, oy_graph_nonce_colour(oy_collect_count));
            }
        );
        OY_EXECUTE_LAST = "OY_PULL";
    }

    function oy_pull_halt(oy_switch) {
        if (document.getElementById("oy_pull_halt").classList.contains("oy_button_all_dull")) return false;
        if (OY_EXECUTE_RECOMMIT===true) {
            oy_recommit_halt();
            return true;
        }
        OY_EXECUTE_PULL = false;

        OY_PULL_PAUSE = Date.now()/1000;

        if (typeof(oy_switch)==="undefined") {
            document.getElementById("oy_pull_execute").classList.remove("oy_button_all_dull");
            document.getElementById("oy_pull_execute").classList.add("oy_button_execute_active");
        }

        document.getElementById("oy_pull_halt").classList.remove("oy_button_halt_active");
        document.getElementById("oy_pull_halt").classList.add("oy_button_all_dull");

        document.getElementById("oy_pull_reset").classList.remove("oy_button_all_dull");
        document.getElementById("oy_pull_reset").classList.add("oy_button_reset_active");

        if (OY_FILE_DATA!==null) {
            document.getElementById("oy_push_execute").classList.remove("oy_button_all_dull");
            document.getElementById("oy_push_execute").classList.add("oy_button_execute_active");
        }

        if (typeof(oy_switch)==="undefined") OY_DATA_PULL[OY_HANDLE_PULL] = false;
        else delete OY_DATA_PULL[OY_HANDLE_PULL];

        OY_GRAPH_NONCE_STORE["OY_PULL"] = document.getElementById("oy_graph_nonce").innerHTML;
    }

    function oy_pull_reset() {
        if (document.getElementById("oy_pull_reset").classList.contains("oy_button_all_dull")) return false;
        OY_EXECUTE_PULL = false;

        document.getElementById("oy_pull_stats_beta").style.display = "block";
        document.getElementById("oy_pull_stats_cont").style.width = "32.5%";
        document.getElementById("oy_pull_stats_alpha").style.left = "3%";
        document.getElementById("oy_pull_mesh_glue").style.display = "none";
        document.getElementById("oy_pull_mesh_glue_sub").innerHTML = "G-/--%";

        document.getElementById("oy_pull_reset").classList.remove("oy_button_halt_active");
        document.getElementById("oy_pull_reset").classList.add("oy_button_all_dull");

        document.getElementById('oy_pull_superhandle').disabled = false;

        document.getElementById("oy_pull_superhandle").value = "";
        location.hash = "";
        oy_pull_reset_handle_blur();
        oy_dest_radio_view_enable();
        oy_dest_radio_download_enable();

        document.getElementById("oy_pull_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_pull_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_pull_halt").classList.remove("oy_button_halt_active");
        document.getElementById("oy_pull_halt").classList.add("oy_button_all_dull");

        if (OY_EXECUTE_PUSH===false&&OY_FILE_DATA!==null) {
            document.getElementById("oy_push_execute").classList.remove("oy_button_all_dull");
            document.getElementById("oy_push_execute").classList.add("oy_button_execute_active");
        }

        document.getElementById("oy_dest_go").classList.remove("oy_button_go_active");
        document.getElementById("oy_dest_go").classList.add("oy_button_all_dull");

        oy_data_pull_reset(OY_HANDLE_PULL);
        if (OY_EXECUTE_PUSH===false&&OY_EXECUTE_RECOMMIT===false) oy_graph_nonce_set(null);
        delete OY_GRAPH_NONCE_STORE["OY_PULL"];
        OY_FILE_KEEP = null;
        OY_HANDLE_PULL = null;
        oy_pull_reset_stats();
    }

    function oy_pull_reset_stats() {
        OY_PULL_AVG_HOP = [];
        OY_PULL_ELAPSED = null;
        OY_PULL_PAUSE = null;
        OY_RECOMMIT_PAUSE = null;
        OY_PULL_COVERAGE = [];
        OY_PULL_CONFLICTS = {};
        document.getElementById("oy_pull_stats_avg_hop").innerHTML = "0";
        document.getElementById("oy_pull_stats_elapsed").innerHTML = "0&nbsp;sec";
        document.getElementById("oy_pull_stats_coverage").innerHTML = "0%";
        document.getElementById("oy_pull_stats_conflicts").innerHTML = "0";
    }

    function oy_pull_reset_handle_click() {
        if (document.getElementById("oy_pull_reset").classList.contains("oy_button_all_dull")) document.getElementById("oy_pull_superhandle").value = "";
    }

    function oy_pull_reset_handle_blur() {
        if (document.getElementById("oy_pull_superhandle").value.substr(0, 2)!=="OY"&&document.getElementById("oy_pull_reset").classList.contains("oy_button_all_dull")) {
            document.getElementById("oy_pull_superhandle").value = "-".repeat(82);
            document.getElementById("oy_pull_execute").classList.remove("oy_button_execute_active");
            document.getElementById("oy_pull_execute").classList.add("oy_button_all_dull");

            document.getElementById("oy_pull_reset").classList.remove("oy_button_reset_active");
            document.getElementById("oy_pull_reset").classList.add("oy_button_all_dull");
        }
        else if (document.getElementById("oy_pull_superhandle").value.substr(0, 1)!=="-") {
            if (OY_EXECUTE_PUSH===false) {
                document.getElementById("oy_pull_execute").classList.remove("oy_button_all_dull");
                document.getElementById("oy_pull_execute").classList.add("oy_button_execute_active");
            }

            document.getElementById("oy_pull_reset").classList.remove("oy_button_all_dull");
            document.getElementById("oy_pull_reset").classList.add("oy_button_reset_active");
        }
    }

    function oy_recommit_execute() {
        if (OY_EXECUTE_PUSH===true||OY_EXECUTE_PULL===true||OY_EXECUTE_RECOMMIT===true) return false;
        OY_EXECUTE_RECOMMIT = true;

        document.getElementById("oy_dest_recommit_inner").style.animation = "flash_green linear 1s infinite";

        document.getElementById("oy_push_execute").classList.remove("oy_button_execute_active");
        document.getElementById("oy_push_execute").classList.add("oy_button_all_dull");

        document.getElementById("oy_pull_reset").classList.remove("oy_button_reset_active");
        document.getElementById("oy_pull_reset").classList.add("oy_button_all_dull");

        document.getElementById("oy_pull_halt").classList.remove("oy_button_all_dull");
        document.getElementById("oy_pull_halt").classList.add("oy_button_halt_active");

        if (OY_DEST_RADIO==="oy_dest_recommit") {
            document.getElementById("oy_dest_go").classList.remove("oy_button_go_active");
            document.getElementById("oy_dest_go").classList.add("oy_button_all_dull");
        }

        document.getElementById("oy_pull_stats_beta").style.display = "none";
        document.getElementById("oy_pull_stats_cont").style.width = "15%";
        document.getElementById("oy_pull_mesh_glue").style.display = "block";

        if (OY_EXECUTE_LAST!=="OY_RECOMMIT") oy_pull_reset_stats();
        if (OY_RECOMMIT_PAUSE===null) OY_PULL_ELAPSED = Date.now()/1000;
        else OY_PULL_ELAPSED += Date.now()/1000 - OY_RECOMMIT_PAUSE;
        OY_PULL_AVG_HOP = [];

        let oy_callback_tally = function(oy_data_nonce, oy_tally_count, oy_passport_passive_length) {
            oy_graph_nonce_fill(oy_data_nonce, oy_graph_nonce_colour(oy_tally_count));
            OY_MESH_GLUE[oy_data_nonce] = oy_tally_count;
            let oy_data_nonce_count = 0;
            let oy_glue_lowest = 9;
            for (let oy_data_nonce_sub in OY_MESH_GLUE) {
                if (OY_MESH_GLUE[oy_data_nonce_sub]<oy_glue_lowest) oy_glue_lowest = OY_MESH_GLUE[oy_data_nonce_sub];
            }
            for (let oy_data_nonce_sub in OY_MESH_GLUE) {
                if (OY_MESH_GLUE[oy_data_nonce_sub]===oy_glue_lowest) oy_data_nonce_count++;
            }
            let oy_data_nonce_percent = Math.floor(((OY_NONCE_MAX_PULL-oy_data_nonce_count)/OY_NONCE_MAX_PULL)*100);
            if (oy_data_nonce_percent===100) oy_data_nonce_percent = 99;
            if (oy_data_nonce_percent<10) oy_data_nonce_percent = "0"+oy_data_nonce_percent;
            document.getElementById("oy_pull_mesh_glue_sub").innerHTML = "G"+oy_glue_lowest+"/"+oy_data_nonce_percent+"%";

            OY_PULL_AVG_HOP.push(oy_passport_passive_length);
            while (OY_PULL_AVG_HOP.length>OY_HOP_KEEP) OY_PULL_AVG_HOP.shift();
            document.getElementById("oy_pull_stats_avg_hop").innerHTML = (OY_PULL_AVG_HOP.reduce(oy_reduce_sum)/OY_PULL_AVG_HOP.length).toFixed(2);
        };
        oy_data_pull_reset(OY_HANDLE_PULL);
        if (OY_EXECUTE_LAST!=="OY_RECOMMIT") {
            OY_MESH_GLUE = [];
            let oy_nonce_counter = 0;
            while (oy_nonce_counter<OY_NONCE_MAX_PULL) {
                OY_MESH_GLUE[oy_nonce_counter] = 0;
                oy_nonce_counter++;
            }
            oy_graph_nonce_set(null);
            oy_graph_nonce_set(OY_NONCE_MAX_PULL);
        }
        if (OY_EXECUTE_LAST!=="OY_RECOMMIT") delete OY_PUSH_HOLD[OY_HANDLE_PULL];
        OY_DATA_PUSH[OY_HANDLE_PULL] = oy_callback_tally;
        oy_data_push(OY_FILE_KEEP[3], oy_callback_tally, OY_HANDLE_PULL);
        OY_EXECUTE_LAST = "OY_RECOMMIT";
    }

    function oy_recommit_halt() {
        if (OY_EXECUTE_RECOMMIT===false) return false;
        OY_EXECUTE_RECOMMIT = false;
        OY_DATA_PUSH[OY_HANDLE_PULL] = false;

        OY_RECOMMIT_PAUSE = Date.now()/1000;

        document.getElementById("oy_dest_recommit_inner").style.animation = null;

        if (OY_FILE_DATA!==null) {
            document.getElementById("oy_push_execute").classList.remove("oy_button_all_dull");
            document.getElementById("oy_push_execute").classList.add("oy_button_execute_active");
        }

        document.getElementById("oy_pull_reset").classList.remove("oy_button_all_dull");
        document.getElementById("oy_pull_reset").classList.add("oy_button_reset_active");

        document.getElementById("oy_pull_halt").classList.remove("oy_button_halt_active");
        document.getElementById("oy_pull_halt").classList.add("oy_button_all_dull");

        if (OY_DEST_RADIO==="oy_dest_recommit") {
            document.getElementById("oy_dest_go").classList.remove("oy_button_all_dull");
            document.getElementById("oy_dest_go").classList.add("oy_button_go_active");
        }
    }

    function oy_tab(oy_tab_id) {
        if (oy_tab_id==="oy_tab_dapper") {
            document.getElementById('oy_tab_dapper').style.backgroundColor = "#404040";
            document.getElementById('oy_tab_wallet').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_upload').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_download').style.backgroundColor = "#7A7A7A";

            document.getElementById('oy_tab_dapper').style.color = "#d7d7d7";
            document.getElementById('oy_tab_wallet').style.color = "#232323";
            document.getElementById('oy_tab_upload').style.color = "#232323";
            document.getElementById('oy_tab_download').style.color = "#232323";

            if (OY_EXECUTE_PUSH===true) document.getElementById('oy_tab_upload').style.backgroundColor = "#c37b2c";
            if (OY_EXECUTE_PULL===true) document.getElementById('oy_tab_download').style.backgroundColor = "#c37b2c";
            if (OY_EXECUTE_RECOMMIT===true) document.getElementById('oy_tab_download').style.backgroundColor = "#c37b2c";

            document.getElementById('oy_interface_dapper').style.display = "block";
            document.getElementById('oy_interface_wallet').style.display = "none";
            document.getElementById('oy_interface_upload').style.display = "none";
            document.getElementById('oy_interface_download').style.display = "none";
        }
        else if (oy_tab_id==="oy_tab_wallet") {
            document.getElementById('oy_tab_dapper').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_wallet').style.backgroundColor = "#404040";
            document.getElementById('oy_tab_upload').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_download').style.backgroundColor = "#7A7A7A";

            document.getElementById('oy_tab_dapper').style.color = "#232323";
            document.getElementById('oy_tab_wallet').style.color = "#d7d7d7";
            document.getElementById('oy_tab_upload').style.color = "#232323";
            document.getElementById('oy_tab_download').style.color = "#232323";

            if (OY_EXECUTE_PUSH===true) document.getElementById('oy_tab_upload').style.backgroundColor = "#c37b2c";
            if (OY_EXECUTE_PULL===true) document.getElementById('oy_tab_download').style.backgroundColor = "#c37b2c";
            if (OY_EXECUTE_RECOMMIT===true) document.getElementById('oy_tab_download').style.backgroundColor = "#c37b2c";

            document.getElementById('oy_interface_dapper').style.display = "none";
            document.getElementById('oy_interface_wallet').style.display = "block";
            document.getElementById('oy_interface_upload').style.display = "none";
            document.getElementById('oy_interface_download').style.display = "none";
        }
        else if (oy_tab_id==="oy_tab_upload") {
            document.getElementById('oy_tab_dapper').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_wallet').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_upload').style.backgroundColor = "#404040";
            document.getElementById('oy_tab_download').style.backgroundColor = "#7A7A7A";

            document.getElementById('oy_tab_dapper').style.color = "#232323";
            document.getElementById('oy_tab_wallet').style.color = "#232323";
            document.getElementById('oy_tab_upload').style.color = "#d7d7d7";
            document.getElementById('oy_tab_download').style.color = "#232323";

            if (OY_EXECUTE_PULL===true) document.getElementById('oy_tab_download').style.backgroundColor = "#c37b2c";
            if (OY_EXECUTE_RECOMMIT===true) document.getElementById('oy_tab_download').style.backgroundColor = "#c37b2c";

            document.getElementById('oy_interface_dapper').style.display = "none";
            document.getElementById('oy_interface_wallet').style.display = "none";
            document.getElementById('oy_interface_upload').style.display = "block";
            document.getElementById('oy_interface_download').style.display = "none";
        }
        else if (oy_tab_id==="oy_tab_download") {
            document.getElementById('oy_tab_dapper').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_wallet').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_upload').style.backgroundColor = "#7A7A7A";
            document.getElementById('oy_tab_download').style.backgroundColor = "#404040";

            document.getElementById('oy_tab_dapper').style.color = "#232323";
            document.getElementById('oy_tab_wallet').style.color = "#232323";
            document.getElementById('oy_tab_upload').style.color = "#232323";
            document.getElementById('oy_tab_download').style.color = "#d7d7d7";

            if (OY_EXECUTE_PUSH===true) document.getElementById('oy_tab_upload').style.backgroundColor = "#c37b2c";

            document.getElementById('oy_interface_dapper').style.display = "none";
            document.getElementById('oy_interface_wallet').style.display = "none";
            document.getElementById('oy_interface_upload').style.display = "none";
            document.getElementById('oy_interface_download').style.display = "block";
        }
    }
</script>
</body>
</html>
